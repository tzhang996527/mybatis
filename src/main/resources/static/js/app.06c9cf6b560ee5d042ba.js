webpackJsonp([1],{"+aT9":function(e,t){e.exports=AMap},"7Otq":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTk2QkI4RkE3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTk2QkI4Rjk3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjU2QTEyNzk3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjU2QTEyN0E3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5WHowqAAAXNElEQVR42uxda4xd1XVe53XvvD2eGQ/lXQcKuDwc2eFlCAGnUn7kT6T86J/+aNTgsWPchJJYciEOCQ8hF+G0hFCIHRSEqAuJBCqRaUEIEbmBppAIBGnESwZje8COZ+y587j3PLq+ffadGJix53HvPevcuz60xPjec89ZZ+39nf04+9vLSZKEFArFzHA1BAqFEkShUIIoFEoQhUIJolAoQRQKJYhCoQRRKJQgCoUSRKFQKEEUCiWIQrFo+Gv/8/YH+f/nsMWSHHMChyhxqPTTdyncWyJ3ScD/ztipiB3wXSqu6P17avN+TyFC5ggv4tRnmoxWTP1+5F+Mz17GPvPl49EKBWd3UsfXllPiso8VcYtmPba3fNuKrBVXrGFCbrdPwXndFL49ltI367roOpSUI4pGypv9s7q+ltj6JxqOQ07Bo/DgxGb2/a8cX0CnAWXJ5etz2TqdHiXHKlKj9w6i9XX8Ic41DmI8FVHhmmXk85MmRhCzJoiTWnig9LfJRHihgydxzAxJhBr7Bh/hK3yu+p9568FliTJF2aKMZfVd/kQOcKP6OBmS9+Rjm4zJ6faoeN0gOUn61MncLX4CJ+MRhe+P/dRxhfew2Df4CF/hs4jWg8vQYUKYMuWyRRkLjeHQ8YP0Z9mekVjA8Qj3VVcuoeDiXu63lkUE0ym6FA5PXBaNVr7qtPumGyPR4Bt8hK/wWUR5chn6XJYoU5StUHL8l+XEx2axhkS6yk+chJuP4rXLyOkIKJkS0B67adcqfL/0Y4pixxSysK6V8Yl9Mz7i3272NRFlhzJsu24Z5l9E9Ahmwfrpoj7uw3fZtktsRZKjIXnndlLxin7+W8ZTBwPf6I+Tg9HwxK2Ob8citbCoBoaxBxMCvsFH+CqjHCtUvLzflKWUcpwB91gupG5f9/Rtx39ZZBtmWyJtphKzHTQW0diP36b4aJmcLj/zGaSkHJPb4SWFi/tOJd8bTqd9s48VBRh4RKeUX/vjgXg8cpyCmz05xkJylxSoa8M5RF0eJaVIIkGOsg2yTc3UgpD94psiWxEOqDNYoOIXuHnGwE5AXUTFi46FTnRw4l/dwEm7/pSxcYnCF/gE3zInh52RRJkVP7/MlKFQcgCbjifHTAQBfsb2qsgBO3e1Cpf3UXBej3nRJKKrxU/rcH/pKzz4vNIQuRJTEmZklbg6EL4SPsE3GQPzinmfhbJDGQolB+r8w58abs5y8DqRt4ABeptLRR7koY9NleybEYw/MPisvF/ayT1/SvDewcnIcG32wfiCAbEvoCZyGaGsitdyz6XdTctQJq6fcT5mloNfYvu5yFZkpEz+RT0UrFoqpxVBV+vQxIrkaPnrbqdvXs6hcjbU+Jq4Nvvwd/BFRNeq2npwWfkX95iyE9p6PM72P/MhCPANTBSKu5WITHcC074Y9CUTkYglKBgcV/aVtlM5Kpp/RHFjDdfka7MP/2wG6m72661QNigjlBXKTGBtsjWKNs5atCf44Uds3xc5YD8Wknd2BxWuGjCzIxLWQzlFj+IjU108OL7bafM5sm5DDdfka/8T+9AJXyTMpqFsUEYoK5SZ0NbjVlvX500Q4Ha2A+JuCcEvhVS8qp/8MzspHhMSfO7mVPaP35BMRp9JsCQldbX+hmvxNfnamzJfqVvtWnGZoGxQRigroYs6UbfvOGHn4ORVkTaIbEWwtqg3MNO+Zql0JGCdVuCayhDuG9uJB7vp+oR17FbZc+NauCauLWLmKkqXr6NsUEYoK6GtxwY6CXXnEs0n2faIHLCPhhR8bikFKwRN+xZddHWu5a7Ol9yCZ2ZwHKdOxufGNeKRqS/hmnLWW1VMmQSrl5oyEkqOPbZu02IJAsic9sU7B+5uF9cOmqUfeLOdOaAZYb/CA+M/Ic9NxUoYMNfD/PT84f7xB807EAnrrbgMUBZt1w1SEpCIqfjF1Om5EuQNth0iu1r8tPLP76LCpX2yWpHDk2dGH018p6brtD5hOHf04cR3okOTZ0lqPVAW3gVdlMhdrfsTW6drRhDgRrYJcbeKZQxTkenvegNt6YBQwrQvOxG+P3ZHEia9TuClS9Br1XKge8XnxLlxjelzZ/2w4tijDMxyoHIsVQg1zvYPcy7KeZx4jG2zyFakFJF7Whu1XT2QvhfJeryeVNdplYPo4Pi9hKd7VVxVC8O5cH4+N65hXgoKuGfEHmWAskjGxI49Ntu6XHOCAD9ie1PcLSepjDNY00fB8m6KpSyJx/jgg9LfJEfLK40818w+LXY5e5zKaMfKl+DcIlSCZp0cd3U59igDI4+WOa2LunvfvDoD9RrcNLqAjDy3yzfrtKqbAkggSDIZmSlYxzz9a8BaJ101zF2rh3BuSTJaCKGMDEGujHbedXch0X2ebbdEkkDC6a9cQoWVguS53P0JP5xcHY1W/tppD9KxgrdAw5QxnwPn4nOukrPeqkzBJb0m9oJltLtt3a07QYD1IkMAeS7/hw0BXMhzJwXJc/eV7kuiyIN8OOGuUhLP06JUeoxz4FxiZLRouTsDM9WO2OdBRtsIgrzHtk3kgH00JO+cTipc2S9jqyCaluf2xwcnfuB6LndHuEsSzdP4N/gtzoFzSZHRIsaQQiPmidyXgttsnW0YQYDvsh2ROGBPxkMqXjNA/qlCFsnZ8UdlX+kfk0pymlnMWH2JOBfz0sWI+C3OMS1dzPphhPVWHOPC5wdMzIUOzFFHb1lwB2ARF+ZOPt0gshWBPLe/wCRZlu6CIkSei/cE0fD4g2ZbVWceyxH5WPwGvzXrrSTJaDnG7oBoGS3qaCULggCPsv1W5IAd8tzLllJwvpx1WthMIfyg9OVotHy1WVQ4V37wsfgNfkuSZLQcW8Q4lruU/RVbRykrggDXiwwN3uQWnXTa1xMkz2W/on2lndNajpNtAGePw2/MOicBMlqs+8K7GBNbjrFgGe2iX0nUgiAvs+0S2YpgndaFPVRc3SdmVanZlfGjifOiw5PrT/oGvPpG/vDkEH4jZ70Vt86rl5rYimmdP41/s3Uzc4Isup9XNxwvz+0tyNAlONPrtO6hctR+QnluKqNt52O3pxvtClhvxTH0egtmEwbBMlrUxU21OFGtCHKYbavIATv3j90z26kIea4QZRtahfhIuT0anrjH7O3rpjNVHzPIaLG3Lh8Tj5TbRQihjlNyehxTwTLarbZOiiEIcBfbPnGhMtroChXW9JN/VqeYdyPEY4nwwPj6ZCL8C1T+T61JhDqRv8MxZgwlJG2BxzEsrBmgeEzseqt9ti6SNIIA8t6wm901eFDZ66d7M4UkQ56LVgTTvvtKaRqFqoTWymjxGb6LpUzrImYcuzaOIWKJmAptPWpaB2sd+V+yvSB1wB6s7qXgwiUyBpbJdBqFq6MjU18mKCKhRsTyEbx558/wnRmYJzLiV+DYBat6JQ/MX7B1UCxBAKHy3IQrH6W7MhY9MWkUMNAN948/8Mm35/jMDIKlpC3gmBWQtsAjifkE61b36kGQP7DdL7KrVZXnXiYpjYKZxj09Gh7f4kB4yIa/8ZmU1brIIYiYIXaJ3Nbjflv3xBME+DZbSVwIzfIIK89dJkSea18Ihu+XflD9yPztCJnW5Ri5VRntpNh8giVb5ygvBIHu9yaRrchYRO6fFU0CSTPQlDLte6zshx9O3g3D3yJajySd4EDaAsQMsRPaetxk61zty+YTCXRqjf9jO19cOLnyYV+p8QffpcreMXJ7BeRgh77Ds6SIYhGbMBgB2tld1DW0nGL4VxbZfKBbdUHdhol1dl7mOi0MOjttGgWT11lAwU9r1mMSsX0oxwSxgYyWOvKXtiAvBPkV239I7GqZdVqX9FDw2V5+UoYipn2nt/WRMK3LMQlW9poYCZ7WfcrWsdwSBNggMrRYdcLdhjas0+q28lzJOc8bOU7jWLh2AwzEyLxclYm6Z2ZuBEE+YLtTZEVA9tzPdBh5biJ3q5rGD8yRjXbNAPkcm0RuyjTUqf3NQBDge2yHJFaGeDyi4tUD5J3WIXmzs8Y9NDgG3un80OCYIDZCHxqHbJ2iZiEIGmnB8twgzYIkd7vMxiBON59GLJyBQLKMdiM1qOPXyMn2f2f7X5EDdshzkUbhAtED0oZMXCAGiIXgtAW/YXusURdr9NsoufLcgmP20zKy2ErrNSNGRuunMUAshL7zABq61q/RBPkd2yNSn57+X3ZTQZA8t7H3H5p7RwwEt6KP2DrUtAQBIIUsiwt99Kf+tydFntuocVhVRltNWyBTRlumGslopRNkhO1mkRVlLCT3jHYzqyU48WSN+1ZWRou0BZDRyp3Ju9nWnaYnCHA3216JlQWy0gKy557dJSaNQn0nKNL1VrhnwTLavbbOUKsQBBApzzVpFHqsPFdIGoW6AfeG7cMwrcv3TC0io80LQZ5me07kU3WkYqSlhYvkpFGoz8C8bO7RyGjlpi14ztaVliMIIFOeizQKbpI+WdsDGfLcWvcmsaK53b4gdUW3lENZXjxrgrzNdq/IAftohbzzOql4eV/zjUUcu96K7w33KFhGi7rxVisTBEBSxWPiiqYqz71mGfmDQuS5tSIHstHyPZnd7+XKaI+RgKSxEggySWmKaXkVaSwi5xSbRmGiSdZpxVZGy/eEexMso73R1o2WJwiwk+11kQNZrNO6oo+Cc7vz39Wy07q4l+CKfnNvQu/ndVsnSAkifcCOAXq7R8W1y9JdRvI87QvfnTRtgdPeujLavBLkv9meEPnUHS2Tf1EPFT67lOKRnE77munrsrkH/+IeydPXqAO/VoLMDMhz5T2irTzXpFHoKeRPnluV0XYX0mlduTLamIRJtKUR5CDbbSIrGPfX/eUdVFyTQ3luku6OaNIW/HmH5LQFt9k6oAQ5Ab7PNiyxkmGndUhRvTNyJM9F1wrZaM9IZbQmG63MocewxIejRIKg+DaKbEXGI3KWBtT2hUFKyonUZeEfB3xkX4vsM3wXvIx/IwmMqCu0WH/B9qLIpzG6Wp/rpWBFj/x1WnaCAb4G7LPgad0XbZmTEmTukDnti0yzgZvKcwNPtDzXyGjZR5ONFincVEbbVAR5je0hkU/lkTL5F3TZzQ2EvjysJr1hH/0LuiVPTz9ky1oJsgB8iwQsN5hplISns5Hn9hXl9eurMlr2zUzrVsQuk5m0ZUxKkIXhKNsWkQN2yHNPhzx3WbqQMRZGYCOjXWZ8FDzjtsWWsRJkEfgh2zvyOvhWnovsucu75GTPtdlo4RN8i+W+s3nHli0pQRaPIXEeVeW53V46YJciz2Uf4IvxiX0juW/9h/JQ8fJCkGfZnpE5YK9QsHIJBZcIkOdW141d3Gt8EiyjfcaWqRKk6Z84kOc6duODjmzluUZGyz4g6Q18UhltaxHkXbbtIgfsRyvknQt5bobZc6dltP3Gl0SudmW7LUslSJ1mPUbFeWVUepDnDpB3SgazRtW0BXxt+ABfhE7rypyVbCKCTLF9U2QrgjQKg3b7zskGv3eI0+XsuDZ8EJy2YJMtQyVIHfEztldFDtghz728j4LzGphGoZq2gK9ZMDuwiH3ngTJ7OG+VLY8EAeTKc9ts9lwk42zEOi2st+JrYZIA1xYso12Xx4qWV4K8xPZzka3ISCrPDVY1YJ1WtfVYZWW0ctdbPW7LTAnSQHyDJCoykEYhTNdpuUsK6YDZqQ85cG5cw6y3CsWmLYBXG/NayfJMkI8oVR/KG7AfC8k7u4MKVw2kM1r1eB2RpDNXuAauJVhGe6stKyVIBrid7YA4r6o5N5BG4cxOI3mtaeWtymj53LiG4FwmKJs78lzB8k4QVIsN4ryqynN7AzP1ShXIc2tYg3GuSpJO6/aKltHK3KWmhQgCPMm2R+SAfTSkANlzV9Rw2rc6MDcyWtHZaPfYsiElSPaQOYVYiSnxiIprB8kpeGn+v8U2mZD8FjxzTpybKjqtqwQ5Od5g2yGyq4Xsued3UeHSvsW3IlUZLZ8L5xSctmCHLRMliCBgN/AJcV7F6SpbjBe8gUWkUaimLeBzmOUsU2JltOMkcbd+JQiNkYB8ErNVbPe0Nmq72i4kXMiwNUnfe+AcOJfgfCWbbVkoQQTiR2xvivPKynODNX0ULF9AGoVq2gL+Lc4hWEaL2N/XTBWq2Qgic3BYled2+ekeVfOV51az0WKNF59DsIx2XbNVpmYkyPNsuyWSBBJYf+USKsxHnlvNRsu/8WXLaHfb2CtBcoD1Ir2CPJf/wxSt2xmkupGT9c6QtoCPNdO66FfJldGub8aK1KwEeY9tm8gB+2hI3jmdVLii/+RbBdktfHAsfpPIfSm4zcZcCZIjfJftiMQBO1IQQBrrn3qCRYZ20SOOMTLacbHrrRDjW5q1EjUzQbiTTzeIbEUgz+232XNne59RfX+CbLT9omW0iHFFCZJPPMr2W5EDdshzL1tKwfkzrNOqrrfi73CMYBntKzbGpATJL64X6RXWZRVtxlnP+VgaBZO2wEu/wzGatkAJUk+8zLZLZCuCdVoXciux+rhVuXYVMD7Dd7Hc9Va7bGyVIE0Amf3kaXnuIHm9qTwXhr/xmWAZbUXk+E4JsmAcZtsqcsAOee6Z7VS08lwY/sZngmW0W21MlSBNhLvY9onzCqtIxipUuKqf3L6iMfyNz4RO6+6zsWwJ+NRawNvep8S1IhMxucie+8VT0o+6PIqPiB17rG+lCtNqBPkl2wts14gbsCONwqVLzT8Fr7d6wcawZeBS60Hm1GSSTu+a6d5EY6cEyQ5/YLtf4oCd4iQ1ma3H/TZ2SpAWwLfZSqSYK0o2ZqQEaQ1AN32T1vs54yYbMyVIC+GBVuwyLLBL+kCr3rzb4oV/vdZ/jZESZHb8iqS9F5GFp2yMlCAtjCENgcZGCTI79rPdqWH4FO60sVGCKOh7bIc0DNM4ZGNCShAFEFKOsyDVARttTJQgGoJpPMb2Gw2DicFjGgYlyExYpyHQGChBZsfv2B5p4ft/xMZAoQSZFZso3TKo1VC2965QgpwQI2w3t+B932zvXaEEOSnuZtvbQve7196zQgkyZ6zXe1UoQWbH02zPtcB9PmfvVaEEmTeG9B6VIIrZ8RbbvU18f/fae1QoQRYMJKU81oT3dYwkJj1VguQOk9REaY2Pw4323hRKkEVjJ9vrTXQ/r9t7UihBaobr9V6UIIrZ8Wu2J5rgPp6w96JQgtQcG2jmhGl5QWzvQaEEqQsOst2WY/9vs/egUILUtZIN59Dv4ZyTWwmSEyDnUx7luRtJar4qJUjT4RdsL+bI3xetzwolSMOwTn1Vgihmx2tsD+XAz4esrwolSMPxLZK9XGPS+qhQgmSCo2xbBPu3xfqoUIJkhh+yvSPQr3esbwolSOYYUp+UIIrZ8SzbM4L8ecb6pFCC6BNbWw8lSB7wLtt2AX5st74olCDikPWskfRZNSVIi2OKst2+c5P1QaEEEYuH2V7N4Lqv2msrlCDisa5FrqkEUSwIL7E93sDrPW6vqVCC5AaN0l/kVZ+iBGlxfMR2awOuc6u9lkIJkjvcwXagjuc/YK+hUILkEgnVdxeRDfYaCiVIbvEk2546nHePPbdCCZJ7rMvJORVKkEzwBtuOGp5vhz2nQgnSNMBu6uM1OM84Nedu80qQFscY1SYfx2Z7LoUSpOlwH9ubi/j9m/YcCiWIDth1YK4EaUU8z7Z7Ab/bbX+rUII0PdY36DcKJUgu8R7btnkcv83+RqEEaRncwnZkDscdsccqlCAthQrbDXM47gZ7rEIJ0nJ4lO2VE3z/ij1GoQRpWaxb4HcKJUhL4GW2XTN8vst+p1CCtDw+Oc6Y6/hEoQRpCRxm23rcv7fazxRKEIXFXZRuwBDZvxUC4GsIREHflguDkyQqaVYotIulUChBFAoliEKhBFEolCAKhRJEoVCCKBRKEIVCCaJQKJQgCoUSRKFQgigUShCFIhP8vwADACog5YM65zugAAAAAElFTkSuQmCC"},G7y9:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},o,!1,function(e){a("G7y9")},null,null).exports,s=a("/ocq"),i={data:function(){return{logining:!1,ruleForm2:{username:"Admin",password:"Admin"},rules2:{username:[{required:!0,message:"please enter your account",trigger:"blur"}],password:[{required:!0,message:"enter your password",trigger:"blur"}]},checked:!1}},methods:{handleSubmitLocal:function(e){this.logining=!0,"Admin"===this.ruleForm2.username&&"Admin"===this.ruleForm2.password?(this.logining=!1,sessionStorage.setItem("user",this.ruleForm2.username),this.$router.push({path:"/dashboard"})):(this.logining=!1,this.$alert("username or password wrong!","info",{confirmButtonText:"ok"}))},handleSubmit:function(e){var t=this,l=a("mtWM");l.defaults.baseURL=Object({NODE_ENV:"production"}).API,l({url:"/login",method:"post",data:{username:this.ruleForm2.username,password:this.ruleForm2.password},transformRequest:[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded",Origin:"http://localhost:8080"}}).then(function(e){t.logining=!1,sessionStorage.setItem("user",t.ruleForm2.username),t.$router.push({path:"/dashboard"})}).catch(function(e){t.logining=!1,t.$alert("username or password wrong!","info",{confirmButtonText:"ok"})})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-page",attrs:{model:e.ruleForm2,rules:e.rules2,"status-icon":"","label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"title"},[e._v("系统登录")]),e._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"用户名"},model:{value:e.ruleForm2.username,callback:function(t){e.$set(e.ruleForm2,"username",t)},expression:"ruleForm2.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.ruleForm2.password,callback:function(t){e.$set(e.ruleForm2,"password",t)},expression:"ruleForm2.password"}})],1),e._v(" "),a("el-checkbox",{staticClass:"rememberme",model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},on:{click:e.handleSubmit}},[e._v("登录")])],1)],1)],1)},staticRenderFns:[]};var c=a("VU/8")(i,n,!1,function(e){a("zwJk")},"data-v-534b1b3a",null).exports,d={name:"Container",data:function(){return{username:"",isCollapse:!1}},created:function(){var e=this;this.$axios.get("/api/v1/loc",{params:{locId:null,address:null}}).then(function(t){e.MT_DATA.locations=t.data}).catch(function(e){alert(e)}),this.$axios.get("/api/v1/asset",{params:{assetId:null,assetTpye:null}}).then(function(t){e.MT_DATA.assets=t.data}).catch(function(e){alert(e)}),this.$axios.get("/api/v1/tourType",{params:{tourType:null}}).then(function(t){e.MT_DATA.tourTypes=t.data}).catch(function(e){alert(e)}),this.$axios.get("/api/v1/customer",{params:{custId:null}}).then(function(t){e.MT_DATA.customers=t.data}).catch(function(e){alert(e)}),this.$axios.get("/api/v1/driver",{params:{custId:null}}).then(function(t){e.MT_DATA.drivers=t.data}).catch(function(e){alert(e)}),this.$axios.get("/api/v1/resvType",{params:{resvType:null}}).then(function(t){e.MT_DATA.resvTypes=t.data}).catch(function(e){alert(e)}),this.$axios.get("/api/v1/schType",{params:{resvType:null}}).then(function(t){e.MT_DATA.schTypes=t.data}).catch(function(e){alert(e)})},computed:{defaultActive:function(){return this.$route.path}},methods:{toggleSideBar:function(){this.isCollapse=!this.isCollapse},logout:function(){var e=this;this.$confirm("确认退出?","提示",{}).then(function(){sessionStorage.removeItem("user"),e.$router.push("/login")}).catch(function(){})},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},handleSelect:function(e,t){console.log(e,t)},back:function(){this.$router.go(-1)}},mounted:function(){var e=sessionStorage.getItem("user");e&&(this.username=e)}},m={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app"},[l("el-container",{staticStyle:{height:"100%",border:"1px #eee"}},[l("el-header",{staticClass:"app-header"},[l("el-row",[l("el-col",{attrs:{span:6}},[l("div",{attrs:{align:"center"}},[l("img",{attrs:{src:a("7Otq"),width:(e.isCollapse,"60"),height:"60"}})])]),e._v(" "),l("el-col",{attrs:{span:18}},[l("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.defaultActive,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:e.handleSelect}},[l("el-menu-item",{attrs:{index:"/"}},[e._v("首页")]),e._v(" "),l("el-menu-item",{nativeOn:{click:function(t){return e.back(t)}}},[e._v("返回")]),e._v(" "),l("el-submenu",{attrs:{index:"/2"}},[l("template",{slot:"title"},[e._v("我的工作台")]),e._v(" "),l("el-menu-item",{attrs:{index:"2-1"}},[e._v("我的消息")]),e._v(" "),l("el-menu-item",{attrs:{index:"2-2"}},[e._v("设置")]),e._v(" "),l("el-menu-item",{attrs:{index:"2-3"},nativeOn:{click:function(t){return e.logout(t)}}},[e._v("退出登录")])],2)],1)],1)],1)],1),e._v(" "),l("el-container",[l("el-aside",{staticClass:"app-side app-side-left",class:e.isCollapse=!1},[l("div",[l("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.defaultActive,router:"",collapse:e.isCollapse,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:e.handleOpen,select:e.handleSelect}},[l("el-submenu",{attrs:{index:"1"}},[l("template",{slot:"title"},[l("i",{staticClass:"el-icon-setting"}),e._v(" "),l("span",[e._v("主数据")])]),e._v(" "),l("el-menu-item-group",[l("el-menu-item",{attrs:{index:"/assetType"}},[e._v("车辆类型")]),e._v(" "),l("el-menu-item",{attrs:{index:"/asset"}},[e._v("车辆主数据")]),e._v(" "),l("el-menu-item",{attrs:{index:"/location"}},[e._v("仓库/配送中心")]),e._v(" "),l("el-menu-item",{attrs:{index:"/tourType"}},[e._v("行程类型")]),e._v(" "),l("el-menu-item",{attrs:{index:"/resvType"}},[e._v("预定类型")]),e._v(" "),l("el-menu-item",{attrs:{index:"/event"}},[e._v("事件管理")]),e._v(" "),l("el-menu-item",{attrs:{index:"/customer"}},[e._v("客户主数据")]),e._v(" "),l("el-menu-item",{attrs:{index:"/driver"}},[e._v("驾驶员主数据")])],1)],2),e._v(" "),l("el-submenu",{attrs:{index:"2"}},[l("template",{slot:"title"},[l("i",{staticClass:"el-icon-s-order"}),e._v(" "),l("span",[e._v("运输计划")])]),e._v(" "),l("el-menu-item-group",[l("el-menu-item",{attrs:{index:"/createSch"}},[e._v("创建运输计划")]),e._v(" "),l("el-menu-item",{attrs:{index:"/schedule"}},[e._v("运输计划列表")]),e._v(" "),l("el-menu-item",{attrs:{index:"/reservation"}},[e._v("车辆预定")]),e._v(" "),l("el-menu-item",{attrs:{index:"/createtour"}},[e._v("创建行程")]),e._v(" "),l("el-menu-item",{attrs:{index:"/tourList"}},[e._v("行程列表")])],1)],2),e._v(" "),l("el-submenu",{attrs:{index:"3"}},[l("template",{slot:"title"},[l("i",{staticClass:"el-icon-s-promotion"}),e._v(" "),l("span",[e._v("运输执行")])]),e._v(" "),l("el-menu-item-group",[l("el-menu-item",{attrs:{index:"/monitor"}},[e._v("实时监控")]),e._v(" "),l("el-menu-item",{attrs:{index:"/searchTour"}},[e._v("行程查询")])],1)],2),e._v(" "),l("el-submenu",{attrs:{index:"4"}},[l("template",{slot:"title"},[l("i",{staticClass:"el-icon-s-marketing"}),e._v(" "),l("span",[e._v("数据分析")])]),e._v(" "),l("el-menu-item-group",[l("el-menu-item",{attrs:{index:"/cost"}},[e._v("运输成本")]),e._v(" "),l("el-menu-item",{attrs:{index:"/tourRep"}},[e._v("行程统计")]),e._v(" "),l("el-menu-item",{attrs:{index:"/tourUsage"}},[e._v("车辆使用率")]),e._v(" "),l("el-menu-item",{attrs:{index:"/tourETA"}},[e._v("车辆准点率")]),e._v(" "),l("el-menu-item",{attrs:{index:"/tourbroken"}},[e._v("车辆故障统计")]),e._v(" "),l("el-menu-item",{attrs:{index:"/tourHistory"}},[e._v("历史数据查询")])],1)],2)],1)],1)]),e._v(" "),l("el-main",{staticClass:"app-body"},[[l("router-view")]],2)],1)],1)],1)},staticRenderFns:[]},u=a("VU/8")(d,m,!1,null,null,null).exports,p={data:function(){return{search:"",edit:!1,form:{assetType:"",assetText:""},rules:{name:[{required:!0,message:"请输入车辆类型",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}]},formInline:{assetType:"",assetText:""},dialogTableVisible:!1,dialogFormVisible:!1,tableData:[]}},created:function(){var e=this;this.$axios.get("/api/v1/assetType",{params:{assetType:null,assetText:null}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},methods:{formatDate:function(e,t){return e.createdBy},handleEdit:function(e,t){this.edit=!0,this.dialogFormVisible=!0,this.form.assetType=t.assetType,this.form.assetText=t.assetText,console.log(e,t.createdBy)},handleDelete:function(e,t){var a=this;this.$axios({url:"/api/v1/assetType/"+t.assetType,method:"delete",headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(e){a.tableData=e.data}).catch(function(e){console.log(e)}),console.log(e,t)},onGet:function(){var e=this;this.$axios.get("/api/v1/assetType",{params:{assetType:this.formInline.assetType,assetText:this.formInline.assetText}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},onCreate:function(){this.dialogFormVisible=!0,this.edit=!1,this.form.assetType="",this.form.assetText=""},onSubmit:function(){var e=this;this.dialogFormVisible=!1,!1===this.edit?this.$axios({url:"/api/v1/assetType",method:"post",data:{assetType:this.form.assetType,assetText:this.form.assetText,del:""},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.assetType="",e.form.assetText="",e.tableData=t.data}).catch(function(e){console.log(e)}):this.$axios({url:"/api/v1/assetType",method:"put",data:{assetType:this.form.assetType,assetText:this.form.assetText},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.assetType="",e.form.assetText="",e.tableData=t.data}).catch(function(e){console.log(e)})}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"车辆类型",visible:e.dialogFormVisible,width:"30%","label-width":"100px","label-position":"left"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"车辆类型",prop:"name"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.assetType,callback:function(t){e.$set(e.form,"assetType",t)},expression:"form.assetType"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"描述"}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{maxlength:"30"},model:{value:e.form.assetText,callback:function(t){e.$set(e.form,"assetText",t)},expression:"form.assetText"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"车辆类型"}},[a("el-input",{attrs:{placeholder:"车辆类型"},model:{value:e.formInline.assetType,callback:function(t){e.$set(e.formInline,"assetType",t)},expression:"formInline.assetType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型描述"}},[a("el-input",{attrs:{placeholder:"类型描述"},model:{value:e.formInline.assetText,callback:function(t){e.$set(e.formInline,"assetText",t)},expression:"formInline.assetText"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onGet}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onCreate}},[e._v("创建")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}}),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"assetType",label:"车型",sortable:"",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"车型描述",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("类型: "+e._s(t.row.assetType))]),e._v(" "),a("p",[e._v("描述: "+e._s(t.row.assetText))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.assetText))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建人",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdBy))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期",width:"180",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdOn))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)],1)},staticRenderFns:[]},h=a("VU/8")(p,f,!1,null,null,null).exports,v={data:function(){return{search:"",edit:!1,form:{assetType:"",assetId:"",platenumber:"",make:"",model:"",vin:"",year:"",hardware:"",location:""},rules:{name:[{required:!0,message:"请输入车辆类型",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}]},formInline:{assetType:"",assetId:""},dialogTableVisible:!1,dialogFormVisible:!1,tableData:[],tableAssetType:[],locations:[]}},created:function(){var e=this;this.MT_DATA&&(this.locations=this.MT_DATA.locations),this.$axios.get("/api/v1/assetDetail",{params:{assetType:null,assetId:null}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)}),this.$axios.get("/api/v1/assetType",{params:{assetType:null,assetText:null}}).then(function(t){e.tableAssetType=t.data}).catch(function(e){alert(e)})},methods:{formatDate:function(e,t,a,l){if(""!==a&&null!==a)return"string"==typeof a?new Date(a).toLocaleString():a.toLocaleString()},formatStatus:function(e,t,a,l){return"1"===a?"可用":"2"===a?"使用中":"未知"},handleEdit:function(e,t){this.edit=!0,this.dialogFormVisible=!0,this.form=t},handleDelete:function(e,t){var a=this;this.$axios({url:"/api/v1/asset/"+t.assetId,method:"delete",headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(e){a.tableData=e.data}).catch(function(e){console.log(e)}),console.log(e,t)},onGet:function(){var e=this;this.$axios.get("/api/v1/asset",{params:{assetType:this.formInline.assetType,assetId:this.formInline.assetId}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},onCreate:function(){this.dialogFormVisible=!0,this.edit=!1,this.form.assetId="",this.form.assetType="",this.form.platenumber="",this.form.make="",this.form.model="",this.form.vin="",this.form.year="",this.form.hardware="",this.form.location=""},onSubmit:function(){var e=this;this.dialogFormVisible=!1,!1===this.edit?this.$axios({url:"/api/v1/asset",method:"post",data:this.form,headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.assetId="",e.form.assetType="",e.tableData=t.data}).catch(function(e){console.log(e)}):this.$axios({url:"/api/v1/asset",method:"put",data:this.form,headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.assetType="",e.form.assetId="",e.tableData=t.data}).catch(function(e){console.log(e)})}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"车辆维护",visible:e.dialogFormVisible,width:"60%","label-width":"100px","label-position":"left"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"车辆编号",prop:"name"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.assetId,callback:function(t){e.$set(e.form,"assetId",t)},expression:"form.assetId"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"车牌号码",prop:"name"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.platenumber,callback:function(t){e.$set(e.form,"platenumber",t)},expression:"form.platenumber"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"车辆类型"}},[a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.assetType,callback:function(t){e.$set(e.form,"assetType",t)},expression:"form.assetType"}},e._l(e.tableAssetType,function(e){return a("el-option",{key:e.assetType,attrs:{label:e.assetText,value:e.assetType}})}),1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"制造商"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.make,callback:function(t){e.$set(e.form,"make",t)},expression:"form.make"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"车辆型号"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.model,callback:function(t){e.$set(e.form,"model",t)},expression:"form.model"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"VIN"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.vin,callback:function(t){e.$set(e.form,"vin",t)},expression:"form.vin"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"出厂日期"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.year,callback:function(t){e.$set(e.form,"year",t)},expression:"form.year"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"所在地"}},[a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.form.location,callback:function(t){e.$set(e.form,"location",t)},expression:"form.location"}},e._l(e.locations,function(t){return a("el-option",{key:t.locId,attrs:{label:t.address,value:t.locId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.locId))])])}),1)],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"车辆编号"}},[a("el-input",{attrs:{placeholder:"车辆编号"},model:{value:e.formInline.assetId,callback:function(t){e.$set(e.formInline,"assetId",t)},expression:"formInline.assetId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车辆类型"}},[a("el-input",{attrs:{placeholder:"车辆类型"},model:{value:e.formInline.assetType,callback:function(t){e.$set(e.formInline,"assetType",t)},expression:"formInline.assetType"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onGet}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onCreate}},[e._v("创建")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}}),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"50",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"assetId",label:"车辆编号",sortable:"",width:"100",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{label:"车型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.assetType))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"车牌号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.platenumber))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"车辆状态",width:"180",formatter:e.formatStatus}}),e._v(" "),a("el-table-column",{attrs:{label:"制造商",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.make))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"车型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.model))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"车辆识别号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.vin))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"出厂日期",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.year))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"所在地",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.location))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建人",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdBy))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createdOn",label:"创建日期",width:"180",formatter:e.formatDate}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)],1)},staticRenderFns:[]},_=a("VU/8")(v,b,!1,null,null,null).exports,g={data:function(){return{search:"",edit:!1,form:{locId:"",address:"",lng:"",lat:"",city:"",province:"",district:"",postalCode:""},rules:{name:[{required:!0,message:"请输入车辆类型",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}]},formInline:{locId:"",address:"",city:"",province:"",district:""},dialogTableVisible:!1,dialogFormVisible:!1,tableData:[]}},created:function(){var e=this;this.$axios.get("/api/v1/loc",{params:{locId:"",address:""}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},methods:{formatDate:function(e,t){return e.createdBy},handleEdit:function(e,t){this.edit=!0,this.dialogFormVisible=!0,this.form.locId=t.locId,this.form.address=t.address,this.form.lng=t.lng,this.form.lat=t.lat,this.form.city=t.city,this.form.province=t.province,this.form.district=t.district,this.form.postalCode=t.postalCode,console.log(e,t.createdBy)},handleDelete:function(e,t){var a=this;this.$axios({url:"/api/v1/loc/"+t.locId,method:"delete",headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(e){a.tableData=e.data}).catch(function(e){console.log(e)}),console.log(e,t)},onGet:function(){var e=this;this.$axios.get("/api/v1/loc",{params:this.formInline}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},onCreate:function(){this.dialogFormVisible=!0,this.edit=!1,this.form.locId="",this.form.address="",this.form.lng="",this.form.lat="",this.form.city="",this.form.province="",this.form.district="",this.form.postalCode=""},onSubmit:function(){var e=this;this.dialogFormVisible=!1,!1===this.edit?this.$axios({url:"/api/v1/loc",method:"post",data:this.form,headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.locId="",e.form.address="",e.form.lng="",e.form.lat="",e.form.city="",e.form.province="",e.form.district="",e.form.postalCode="",e.tableData=t.data}).catch(function(e){console.log(e)}):this.$axios({url:"/api/v1/loc",method:"put",data:this.form,headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.locId="",e.form.address="",e.form.lng="",e.form.lat="",e.form.city="",e.form.province="",e.form.district="",e.form.postalCode="",e.tableData=t.data}).catch(function(e){console.log(e)})}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"仓库维护",visible:e.dialogFormVisible,width:"60%","label-width":"100px","label-position":"left"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"仓库编号",prop:"name"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.locId,callback:function(t){e.$set(e.form,"locId",t)},expression:"form.locId"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"省份"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.province,callback:function(t){e.$set(e.form,"province",t)},expression:"form.province"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"地址"}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"城市"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"区域"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.district,callback:function(t){e.$set(e.form,"district",t)},expression:"form.district"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮编"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.postalCode,callback:function(t){e.$set(e.form,"postalCode",t)},expression:"form.postalCode"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"经度"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.lng,callback:function(t){e.$set(e.form,"lng",t)},expression:"form.lng"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"纬度"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.lat,callback:function(t){e.$set(e.form,"lat",t)},expression:"form.lat"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"仓库编号"}},[a("el-input",{attrs:{placeholder:"仓库编号"},model:{value:e.formInline.locId,callback:function(t){e.$set(e.formInline,"locId",t)},expression:"formInline.locId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{attrs:{placeholder:"地址"},model:{value:e.formInline.address,callback:function(t){e.$set(e.formInline,"address",t)},expression:"formInline.address"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"省份"}},[a("el-input",{attrs:{placeholder:"省份"},model:{value:e.formInline.province,callback:function(t){e.$set(e.formInline,"province",t)},expression:"formInline.province"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"城市"}},[a("el-input",{attrs:{placeholder:"城市"},model:{value:e.formInline.city,callback:function(t){e.$set(e.formInline,"city",t)},expression:"formInline.city"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"区域"}},[a("el-input",{attrs:{placeholder:"区域"},model:{value:e.formInline.district,callback:function(t){e.$set(e.formInline,"district",t)},expression:"formInline.district"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onGet}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onCreate}},[e._v("创建")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}}),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"50",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"locId",label:"仓库编号",sortable:"",width:"180",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{label:"地址",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("经度: "+e._s(t.row.lng))]),e._v(" "),a("p",[e._v("维度: "+e._s(t.row.lat))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.address))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"省份",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.province))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"城市",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.city))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"区域",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.district))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"邮编",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.postalCode))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建人",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdBy))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期",width:"180",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdOn))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)],1)},staticRenderFns:[]},x=a("VU/8")(g,y,!1,null,null,null).exports,w={data:function(){return{search:"",edit:!1,form:{custId:"",type:"",name:"",address:""},rules:{custId:[{required:!0,message:"请输入客户编号",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}]},formInline:{custId:"",type:"",name:"",address:""},dialogTableVisible:!1,dialogFormVisible:!1,tableData:[]}},created:function(){var e=this;this.$axios.get("/api/v1/customer",{params:{custId:null,type:null}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},methods:{formatDate:function(e,t){return e.createdBy},handleEdit:function(e,t){this.edit=!0,this.dialogFormVisible=!0,this.form.custId=t.custId,this.form.type=t.type,this.form.name=t.name,this.form.address=t.address,console.log(e,t.createdBy)},handleDelete:function(e,t){var a=this;this.$axios({url:"/api/v1/customer/"+t.custId,method:"delete",headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(e){a.tableData=e.data}).catch(function(e){console.log(e)}),console.log(e,t)},onGet:function(){var e=this;this.$axios.get("/api/v1/customer",{params:{custId:this.formInline.custId,type:this.formInline.type,name:this.formInline.name,address:this.formInline.address}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},onCreate:function(){this.dialogFormVisible=!0,this.edit=!1,this.form.custId="",this.form.type="",this.form.name="",this.form.address=""},onSubmit:function(){var e=this;this.dialogFormVisible=!1,!1===this.edit?this.$axios({url:"/api/v1/customer",method:"post",data:{custId:this.form.custId,type:this.form.type,name:this.form.name,address:this.form.address,del:""},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.custId="",e.form.type="",e.form.name="",e.form.address="",e.tableData=t.data}).catch(function(e){console.log(e)}):this.$axios({url:"/api/v1/customer",method:"put",data:{custId:this.form.custId,type:this.form.type,name:this.form.name,address:this.form.address},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.custId="",e.form.type="",e.form.name="",e.form.address="",e.tableData=t.data}).catch(function(e){console.log(e)})}}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"客户数据维护",visible:e.dialogFormVisible,width:"30%","label-width":"100px","label-position":"left"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"客户编号",prop:"custId"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.custId,callback:function(t){e.$set(e.form,"custId",t)},expression:"form.custId"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"客户类型"}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{maxlength:"30"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"客户名称"}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{maxlength:"30"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"客户地址"}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{maxlength:"30"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"客户编号"}},[a("el-input",{attrs:{placeholder:"客户编号"},model:{value:e.formInline.custId,callback:function(t){e.$set(e.formInline,"custId",t)},expression:"formInline.custId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户类型"}},[a("el-input",{attrs:{placeholder:"客户类型"},model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户描述"}},[a("el-input",{attrs:{placeholder:"客户描述"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户地址"}},[a("el-input",{attrs:{placeholder:"客户地址"},model:{value:e.formInline.address,callback:function(t){e.$set(e.formInline,"address",t)},expression:"formInline.address"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onGet}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onCreate}},[e._v("创建")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}}),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"客户编号",sortable:"",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.custId))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"客户类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("编号: "+e._s(t.row.custId))]),e._v(" "),a("p",[e._v("客户类型: "+e._s(t.row.type))]),e._v(" "),a("div",{staticClass:"custId-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.type))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"客户名称",sortable:"",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"客户地址",sortable:"",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.address))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建人",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdBy))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期",width:"120",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdOn))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)],1)},staticRenderFns:[]},k=a("VU/8")(w,I,!1,null,null,null).exports,T={data:function(){return{search:"",edit:!1,form:{driverId:"",name:"",tel:"",location:""},rules:{name:[{required:!0,message:"请输入人员编号",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}]},formInline:{driverId:"",name:"",tel:"",location:""},dialogTableVisible:!1,dialogFormVisible:!1,tableData:[]}},created:function(){var e=this;this.$axios.get("/api/v1/driver",{params:{driverId:null,name:null}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},methods:{formatDate:function(e,t){return e.createdBy},handleEdit:function(e,t){this.edit=!0,this.dialogFormVisible=!0,this.form.driverId=t.driverId,this.form.name=t.name,this.form.tel=t.tel,this.form.location=t.location,console.log(e,t.createdBy)},handleDelete:function(e,t){var a=this;this.$axios({url:"/api/v1/driver/"+t.driverId,method:"delete",headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(e){a.tableData=e.data}).catch(function(e){console.log(e)}),console.log(e,t)},onGet:function(){var e=this;this.$axios.get("/api/v1/driver",{params:{driverId:this.formInline.driverId,name:this.formInline.name,tel:this.formInline.name,location:this.formInline.name}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},onCreate:function(){this.dialogFormVisible=!0,this.edit=!1,this.form.driverId="",this.form.name="",this.form.location="",this.form.tel=""},onSubmit:function(){var e=this;this.dialogFormVisible=!1,!1===this.edit?this.$axios({url:"/api/v1/driver",method:"post",data:{driverId:this.form.driverId,name:this.form.name,tel:this.form.tel,location:this.form.location,del:""},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.driverId="",e.form.name="",e.form.tel="",e.form.location="",e.tableData=t.data}).catch(function(e){console.log(e)}):this.$axios({url:"/api/v1/driver",method:"put",data:{driverId:this.form.driverId,name:this.form.name,tel:this.form.tel,location:this.form.location},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.driverId="",e.form.name="",e.form.tel="",e.form.location="",e.tableData=t.data}).catch(function(e){console.log(e)})}}},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"驾驶员数据",visible:e.dialogFormVisible,width:"30%","label-width":"100px","label-position":"left"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"人员编号",prop:"name"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.driverId,callback:function(t){e.$set(e.form,"driverId",t)},expression:"form.driverId"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{maxlength:"30"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"电话"}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{maxlength:"30"},model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",t)},expression:"form.tel"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"所在地"}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{maxlength:"30"},model:{value:e.form.location,callback:function(t){e.$set(e.form,"location",t)},expression:"form.location"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"人员编号"}},[a("el-input",{attrs:{placeholder:"人员编号"},model:{value:e.formInline.driverId,callback:function(t){e.$set(e.formInline,"driverId",t)},expression:"formInline.driverId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所在地"}},[a("el-input",{attrs:{placeholder:"所在地"},model:{value:e.formInline.location,callback:function(t){e.$set(e.formInline,"location",t)},expression:"formInline.location"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onGet}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onCreate}},[e._v("创建")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}}),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"人员编号",sortable:"",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.driverId))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("编号: "+e._s(t.row.driverId))]),e._v(" "),a("p",[e._v("姓名: "+e._s(t.row.name))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.name))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"电话",sortable:"",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.tel))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"所在地",sortable:"",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.location))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建人",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdBy))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期",width:"120",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdOn))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)],1)},staticRenderFns:[]},D=a("VU/8")(T,S,!1,null,null,null).exports,C={data:function(){return{search:"",edit:!1,form:{eventCode:"",eventText:""},rules:{name:[{required:!0,message:"请输入事件管理",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}]},formInline:{eventCode:"",eventText:""},dialogTableVisible:!1,dialogFormVisible:!1,tableData:[]}},created:function(){var e=this;this.$axios.get("/api/v1/eventCode",{params:{eventCode:null,eventText:null}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},methods:{formatDate:function(e,t){return e.createdBy},handleEdit:function(e,t){this.edit=!0,this.dialogFormVisible=!0,this.form.eventCode=t.eventCode,this.form.eventText=t.eventText,console.log(e,t.createdBy)},handleDelete:function(e,t){var a=this;this.$axios({url:"/api/v1/eventCode/"+t.eventCode,method:"delete",headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(e){a.tableData=e.data}).catch(function(e){console.log(e)}),console.log(e,t)},onGet:function(){var e=this;this.$axios.get("/api/v1/eventCode",{params:{eventCode:this.formInline.eventCode,eventText:this.formInline.eventText}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},onCreate:function(){this.dialogFormVisible=!0,this.edit=!1,this.form.eventCode="",this.form.eventText=""},onSubmit:function(){var e=this;this.dialogFormVisible=!1,!1===this.edit?this.$axios({url:"/api/v1/eventCode",method:"post",data:{eventCode:this.form.eventCode,eventText:this.form.eventText,del:""},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.eventCode="",e.form.eventText="",e.tableData=t.data}).catch(function(e){console.log(e)}):this.$axios({url:"/api/v1/eventCode",method:"put",data:{eventCode:this.form.eventCode,eventText:this.form.eventText},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.eventCode="",e.form.eventText="",e.tableData=t.data}).catch(function(e){console.log(e)})}}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"事件管理",visible:e.dialogFormVisible,width:"30%","label-width":"100px","label-position":"left"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"事件管理",prop:"name"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.eventCode,callback:function(t){e.$set(e.form,"eventCode",t)},expression:"form.eventCode"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"描述"}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{maxlength:"30"},model:{value:e.form.eventText,callback:function(t){e.$set(e.form,"eventText",t)},expression:"form.eventText"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"事件管理"}},[a("el-input",{attrs:{placeholder:"事件管理"},model:{value:e.formInline.eventCode,callback:function(t){e.$set(e.formInline,"eventCode",t)},expression:"formInline.eventCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型描述"}},[a("el-input",{attrs:{placeholder:"类型描述"},model:{value:e.formInline.eventText,callback:function(t){e.$set(e.formInline,"eventText",t)},expression:"formInline.eventText"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onGet}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onCreate}},[e._v("创建")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}}),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"事件管理",sortable:"",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.eventCode))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"类型描述",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("类型: "+e._s(t.row.eventCode))]),e._v(" "),a("p",[e._v("描述: "+e._s(t.row.eventText))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.eventText))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建人",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdBy))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期",width:"180",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdOn))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)],1)},staticRenderFns:[]},A=a("VU/8")(C,$,!1,null,null,null).exports,V={data:function(){return{search:"",edit:!1,form:{resvType:"",text:""},rules:{name:[{required:!0,message:"请输入预定类型",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}]},formInline:{resvType:"",text:""},dialogTableVisible:!1,dialogFormVisible:!1,tableData:[]}},created:function(){var e=this;this.$axios.get("/api/v1/resvType",{params:{resvType:null,text:null}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},methods:{formatDate:function(e,t){return e.createdBy},handleEdit:function(e,t){this.edit=!0,this.dialogFormVisible=!0,this.form.resvType=t.resvType,this.form.text=t.text,console.log(e,t.createdBy)},handleDelete:function(e,t){var a=this;this.$axios({url:"/api/v1/resvType/"+t.resvType,method:"delete",headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(e){a.tableData=e.data}).catch(function(e){console.log(e)}),console.log(e,t)},onGet:function(){var e=this;this.$axios.get("/api/v1/resvType",{params:{resvType:this.formInline.resvType,text:this.formInline.text}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},onCreate:function(){this.dialogFormVisible=!0,this.edit=!1,this.form.resvType="",this.form.text=""},onSubmit:function(){var e=this;this.dialogFormVisible=!1,!1===this.edit?this.$axios({url:"/api/v1/resvType",method:"post",data:{resvType:this.form.resvType,text:this.form.text,del:""},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.resvType="",e.form.text="",e.tableData=t.data}).catch(function(e){console.log(e)}):this.$axios({url:"/api/v1/resvType",method:"put",data:{resvType:this.form.resvType,text:this.form.text},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.resvType="",e.form.text="",e.tableData=t.data}).catch(function(e){console.log(e)})}}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"预定类型",visible:e.dialogFormVisible,width:"30%","label-width":"100px","label-position":"left"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"预定类型",prop:"name"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.resvType,callback:function(t){e.$set(e.form,"resvType",t)},expression:"form.resvType"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"描述"}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{maxlength:"30"},model:{value:e.form.text,callback:function(t){e.$set(e.form,"text",t)},expression:"form.text"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"预定类型"}},[a("el-input",{attrs:{placeholder:"预定类型"},model:{value:e.formInline.resvType,callback:function(t){e.$set(e.formInline,"resvType",t)},expression:"formInline.resvType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型描述"}},[a("el-input",{attrs:{placeholder:"类型描述"},model:{value:e.formInline.text,callback:function(t){e.$set(e.formInline,"text",t)},expression:"formInline.text"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onGet}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onCreate}},[e._v("创建")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}}),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"预定类型",sortable:"",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.resvType))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"类型描述",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("类型: "+e._s(t.row.resvType))]),e._v(" "),a("p",[e._v("描述: "+e._s(t.row.text))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.text))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建人",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdBy))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期",width:"180",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdOn))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)],1)},staticRenderFns:[]},z=a("VU/8")(V,F,!1,null,null,null).exports,L={data:function(){return{search:"",edit:!1,form:{tourType:"",text:""},rules:{name:[{required:!0,message:"请输入行程类型",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}]},formInline:{tourType:"",text:""},dialogTableVisible:!1,dialogFormVisible:!1,tableData:[]}},created:function(){var e=this;this.$axios.get("/api/v1/tourType",{params:{tourType:null,text:null}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},methods:{formatDate:function(e,t){return e.createdBy},handleEdit:function(e,t){this.edit=!0,this.dialogFormVisible=!0,this.form.tourType=t.tourType,this.form.text=t.text,console.log(e,t.createdBy)},handleDelete:function(e,t){var a=this;this.$axios({url:"/api/v1/tourType/"+t.tourType,method:"delete",headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(e){a.tableData=e.data}).catch(function(e){console.log(e)}),console.log(e,t)},onGet:function(){var e=this;this.$axios.get("/api/v1/tourType",{params:{tourType:this.formInline.tourType,text:this.formInline.text}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},onCreate:function(){this.dialogFormVisible=!0,this.edit=!1,this.form.tourType="",this.form.text=""},onSubmit:function(){var e=this;this.dialogFormVisible=!1,!1===this.edit?this.$axios({url:"/api/v1/tourType",method:"post",data:{tourType:this.form.tourType,text:this.form.text,del:""},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.tourType="",e.form.text="",e.tableData=t.data}).catch(function(e){console.log(e)}):this.$axios({url:"/api/v1/tourType",method:"put",data:{tourType:this.form.tourType,text:this.form.text},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.tourType="",e.form.text="",e.tableData=t.data}).catch(function(e){console.log(e)})}}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"行程类型",visible:e.dialogFormVisible,width:"30%","label-width":"100px","label-position":"left"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"行程类型",prop:"name"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.tourType,callback:function(t){e.$set(e.form,"tourType",t)},expression:"form.tourType"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"描述"}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{maxlength:"30"},model:{value:e.form.text,callback:function(t){e.$set(e.form,"text",t)},expression:"form.text"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"行程类型"}},[a("el-input",{attrs:{placeholder:"行程类型"},model:{value:e.formInline.tourType,callback:function(t){e.$set(e.formInline,"tourType",t)},expression:"formInline.tourType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型描述"}},[a("el-input",{attrs:{placeholder:"类型描述"},model:{value:e.formInline.text,callback:function(t){e.$set(e.formInline,"text",t)},expression:"formInline.text"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onGet}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onCreate}},[e._v("创建")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}}),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"行程类型",sortable:"",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.tourType))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"类型描述",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("类型: "+e._s(t.row.tourType))]),e._v(" "),a("p",[e._v("描述: "+e._s(t.row.text))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.text))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建人",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdBy))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期",width:"180",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdOn))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)],1)},staticRenderFns:[]},E=a("VU/8")(L,q,!1,null,null,null).exports,O=a("BO1k"),R=a.n(O),U=a("+aT9"),M=a.n(U);a("n+06");var P={name:"map",data:function(){return{edit:!1,item:[],UoMoptions:[],form:{locId:"",address:"",seq:"",planDepart:"",planArr:"",status:"P"},cargoform:{seq:"",container:"",quan:"",quanUom:"",commodity:"",locId:"",address:""},dialogFormVisible:!1,dialogFormVisibleCargo:!1,pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"明天",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"一周后",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}}]},locations:[],customers:[],tourTypes:[],drivers:[],vehs:[],activeName:"tab_veh",header:{tourid:"$1",tourType:"",shipTo:"",custId:"",soldto:{name:"",address:""},shipto:{name:"",address:""},driver:{driverId:"",name:"",tel:""},sourceLoc:{locId:""},destLoc:{locId:""},plannedStopsDetail:[],tourItem:[],planDepart:"",planArr:"",vehicle:{assetId:"",assetType:"",platenumber:"",make:"",model:"",vin:"",year:"",hardware:"",location:""}}}},created:function(){var e=this;this.MT_DATA&&(this.locations=this.MT_DATA.locations,this.tourTypes=this.MT_DATA.tourTypes,this.customers=this.MT_DATA.customers,this.drivers=this.MT_DATA.drivers,this.UoMoptions=this.MT_DATA.UoMoptions),this.$axios.get("/api/v1/assetDetail",{params:{assetId:null,assetTpye:null,status:"1"}}).then(function(t){e.vehs=t.data}).catch(function(e){alert(e)})},mounted:function(){},methods:{onSave:function(){var e=this,t=this.header;this.$axios({url:"/api/v1/tour",method:"post",data:t,headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){e.$notify({title:"成功",message:"行程 "+t.data+" 创建成功",type:"success"}),e.header.tourid=t.data}).catch(function(e){console.log(e)})},addStop:function(){this.edit=!1,this.dialogFormVisible=!0,this.form.locId="",this.form.address="",this.form.seq=this.header.plannedStopsDetail.length+1,this.form.planDepart="",this.form.planArr="",this.form.status="P"},addCargo:function(){this.edit=!1,this.dialogFormVisibleCargo=!0,this.cargoform.locId="",this.cargoform.address="",this.cargoform.seq=this.header.tourItem.length+1,this.cargoform.container="",this.cargoform.quan="",this.cargoform.quanUom="",this.cargoform.commodity="",this.cargoform.location=""},setCust:function(e){var t=!0,a=!1,l=void 0;try{for(var o,r=R()(this.customers);!(t=(o=r.next()).done);t=!0){var s=o.value;if(s.custId===e){this.header.custId=e,this.header.soldto={name:s.name,address:s.address};break}}}catch(e){a=!0,l=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw l}}},setShipTo:function(e){var t=!0,a=!1,l=void 0;try{for(var o,r=R()(this.customers);!(t=(o=r.next()).done);t=!0){var s=o.value;if(s.custId===e){this.header.shipTo=e,this.header.shipto={name:s.name,address:s.address};break}}}catch(e){a=!0,l=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw l}}},setDriver:function(e){var t=!0,a=!1,l=void 0;try{for(var o,r=R()(this.drivers);!(t=(o=r.next()).done);t=!0){var s=o.value;if(s.driverId===e){this.header.driver={driverId:s.driverId,name:s.name,tel:s.tel};break}}}catch(e){a=!0,l=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw l}}},setVeh:function(e){var t=!0,a=!1,l=void 0;try{for(var o,r=R()(this.vehs);!(t=(o=r.next()).done);t=!0){var s=o.value;if(s.assetId===e){this.header.vehicle={assetId:e,assetType:s.assetType,platenumber:s.platenumber,make:s.make,model:s.model,vin:s.vin,year:s.year,hardware:s.hardware,location:s.location};break}}}catch(e){a=!0,l=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw l}}},formatDate:function(e,t,a,l){if(""!==a)return a.toLocaleString()},formatStatus:function(e,t,a,l){return"P"===a?"计划中":"运行中"},onSubmit:function(){if(this.dialogFormVisible=!1,this.edit){var e=this.form.seq-1,t=this.form.locId;this.header.plannedStopsDetail[e].locid=this.form.locId;var a=this.locations.find(function(e){return e.locId==t});this.header.plannedStopsDetail[e].address=a.address,this.header.plannedStopsDetail[e].planDepart=this.form.planDepart,this.header.plannedStopsDetail[e].planArr=this.form.planArr}else{var l={};l.locid=this.form.locId;var o=this.locations.find(function(e){return e.locId==l.locid});l.address=o.address,l.seq=this.form.seq,l.planDepart=this.form.planDepart,l.planArr=this.form.planArr,l.status=this.form.status,this.header.plannedStopsDetail.push(l)}},onSubmitCargo:function(){if(this.dialogFormVisibleCargo=!1,this.edit){var e=this.cargoform.seq-1,t=this.cargoform.locId;this.header.tourItem[e].locid=this.cargoform.locId;var a=this.locations.find(function(e){return e.locId==t});this.header.tourItem[e].address=a.address,this.header.tourItem[e].container=this.cargoform.container,this.header.tourItem[e].quan=this.cargoform.quan,this.header.tourItem[e].quanUom=this.cargoform.quanUom,this.header.tourItem[e].commodity=this.cargoform.commodity,this.header.tourItem[e].location=this.cargoform.locId}else{var l={};l.locid=this.cargoform.locId;var o=this.locations.find(function(e){return e.locId==l.locid});l.address=o.address,l.seq=this.cargoform.seq,l.container=this.cargoform.container,l.quan=this.cargoform.quan,l.quanUom=this.cargoform.quanUom,l.commodity=this.cargoform.commodity,l.location=this.cargoform.locId,l.status="计划中",this.header.tourItem.push(l)}},handleEdit:function(e,t){this.edit=!0,this.dialogFormVisible=!0,this.form.locId=t.locid,this.form.address=t.address,this.form.seq=t.seq,this.form.planDepart=t.planDepart,this.form.planArr=t.planArr,this.form.status=t.status},handleEditCargo:function(e,t){this.edit=!0,this.dialogFormVisibleCargo=!0,this.cargoform.locId=t.locId,this.cargoform.address=t.address,this.cargoform.seq=t.seq,this.cargoform.container=t.container,this.cargoform.quan=t.quan,this.cargoform.quanUom=t.quanUom,this.cargoform.commodity=t.commodity},handleDelete:function(e,t){var a=t.seq-1;this.header.plannedStopsDetail.splice(a,1)},handleDeleteCargo:function(e,t){var a=t.seq-1;this.header.tourItem.splice(a,1)},handleClick:function(e,t){console.log(e,t)}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"添加站点",visible:e.dialogFormVisible,width:"50%","label-width":"100px","label-position":"left"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"顺序"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{maxlength:"10",disabled:!0},model:{value:e.form.seq,callback:function(t){e.$set(e.form,"seq",t)},expression:"form.seq"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"站点"}},[a("el-col",{attrs:{span:18}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.form.locId,callback:function(t){e.$set(e.form,"locId",t)},expression:"form.locId"}},e._l(e.locations,function(t){return a("el-option",{key:t.locId,attrs:{label:t.address,value:t.locId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.locId))])])}),1)],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"计划到达时间"}},[a("el-col",{attrs:{span:12}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.form.planArr,callback:function(t){e.$set(e.form,"planArr",t)},expression:"form.planArr"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"计划出发时间"}},[a("el-col",{attrs:{span:12}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.form.planDepart,callback:function(t){e.$set(e.form,"planDepart",t)},expression:"form.planDepart"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加货物",visible:e.dialogFormVisibleCargo,width:"50%","label-width":"100px","label-position":"left"},on:{"update:visible":function(t){e.dialogFormVisibleCargo=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.cargoform,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"顺序"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{maxlength:"10",disabled:!0},model:{value:e.cargoform.seq,callback:function(t){e.$set(e.cargoform,"seq",t)},expression:"cargoform.seq"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"集装箱编号"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.cargoform.container,callback:function(t){e.$set(e.cargoform,"container",t)},expression:"cargoform.container"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数量"}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.cargoform.quan,callback:function(t){e.$set(e.cargoform,"quan",t)},expression:"cargoform.quan"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.cargoform.quanUom,callback:function(t){e.$set(e.cargoform,"quanUom",t)},expression:"cargoform.quanUom"}},e._l(e.UoMoptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"货物"}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.cargoform.commodity,callback:function(t){e.$set(e.cargoform,"commodity",t)},expression:"cargoform.commodity"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"目的地"}},[a("el-col",{attrs:{span:18}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.cargoform.locId,callback:function(t){e.$set(e.cargoform,"locId",t)},expression:"cargoform.locId"}},e._l(e.locations,function(t){return a("el-option",{key:t.locId,attrs:{label:t.address,value:t.locId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.locId))])])}),1)],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisibleCargo=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmitCargo}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"80px",inline:!0}},[a("el-form-item",{attrs:{label:"行程编号","label-width":"80px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.tourid,callback:function(t){e.$set(e.header,"tourid",t)},expression:"header.tourid"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保存")])],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"80px",inline:!1}},[a("el-form-item",{attrs:{label:"行程类型","label-width":"80px"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.header.tourType,callback:function(t){e.$set(e.header,"tourType",t)},expression:"header.tourType"}},e._l(e.tourTypes,function(t){return a("el-option",{key:t.tourType,attrs:{label:t.text,value:t.tourType}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.text))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.tourType))])])}),1)],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"80px",inline:!0}},[a("el-form-item",{attrs:{label:"发车地点","label-width":"80px"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.header.sourceLoc.locId,callback:function(t){e.$set(e.header.sourceLoc,"locId",t)},expression:"header.sourceLoc.locId"}},e._l(e.locations,function(t){return a("el-option",{key:t.locId,attrs:{label:t.address,value:t.locId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.locId))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"出发时间","label-width":"80px"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.header.planDepart,callback:function(t){e.$set(e.header,"planDepart",t)},expression:"header.planDepart"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"目的地址","label-width":"80px"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.header.destLoc.locId,callback:function(t){e.$set(e.header.destLoc,"locId",t)},expression:"header.destLoc.locId"}},e._l(e.locations,function(t){return a("el-option",{key:t.locId,attrs:{label:t.address,value:t.locId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.locId))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"预计达到","label-width":"80px"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.header.planArr,callback:function(t){e.$set(e.header,"planArr",t)},expression:"header.planArr"}})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"车辆信息",name:"tab_veh"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"auto",inline:!0}},[a("el-form-item",{attrs:{label:"车辆编号",filterable:"","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},on:{change:e.setVeh},model:{value:e.header.vehicle.assetId,callback:function(t){e.$set(e.header.vehicle,"assetId",t)},expression:"header.vehicle.assetId"}},e._l(e.vehs,function(t){return a("el-option",{key:t.assetId,attrs:{label:t.platenumber,value:t.assetId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.platenumber+","+t.assetType))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.assetId))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"车辆类型","label-width":"100px"}},[a("el-select",{model:{value:e.header.vehicle.assetType,callback:function(t){e.$set(e.header.vehicle,"assetType",t)},expression:"header.vehicle.assetType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车牌号码","label-width":"100px"}},[a("el-select",{model:{value:e.header.vehicle.platenumber,callback:function(t){e.$set(e.header.vehicle,"platenumber",t)},expression:"header.vehicle.platenumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"制造商","label-width":"100px"}},[a("el-select",{model:{value:e.header.vehicle.make,callback:function(t){e.$set(e.header.vehicle,"make",t)},expression:"header.vehicle.make"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"型号","label-width":"100px"}},[a("el-select",{model:{value:e.header.vehicle.model,callback:function(t){e.$set(e.header.vehicle,"model",t)},expression:"header.vehicle.model"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车辆识别号","label-width":"100px"}},[a("el-select",{model:{value:e.header.vehicle.vin,callback:function(t){e.$set(e.header.vehicle,"vin",t)},expression:"header.vehicle.vin"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出厂日期","label-width":"100px"}},[a("el-date-picker",{attrs:{type:"date"},model:{value:e.header.vehicle.year,callback:function(t){e.$set(e.header.vehicle,"year",t)},expression:"header.vehicle.year"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车载设备编号","label-width":"100px"}},[a("el-select",{model:{value:e.header.vehicle.hardware,callback:function(t){e.$set(e.header.vehicle,"hardware",t)},expression:"header.vehicle.hardware"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车辆所在地","label-width":"100px"}},[a("el-select",{model:{value:e.header.vehicle.location,callback:function(t){e.$set(e.header.vehicle,"location",t)},expression:"header.vehicle.location"}})],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"})])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"停靠站点",name:"tab_stop"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.header.plannedStopsDetail,stripe:""}},[a("el-table-column",{attrs:{prop:"seq",label:"编号",sortable:"",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"停靠站点"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"行程状态",formatter:e.formatStatus}}),e._v(" "),a("el-table-column",{attrs:{prop:"planDepart",label:"计划出发时间",width:"180",formatter:e.formatDate}}),e._v(" "),a("el-table-column",{attrs:{prop:"planArr",label:"计划到达时间",width:"180",formatter:e.formatDate}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addStop}},[e._v("添加")])],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"客户信息",name:"tab_cust"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{ref:"form",attrs:{model:e.header,inline:!1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"客户编号","label-width":"80px",filterable:""}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},on:{change:e.setCust},model:{value:e.header.custId,callback:function(t){e.$set(e.header,"custId",t)},expression:"header.custId"}},e._l(e.customers,function(t){return a("el-option",{key:t.custId,attrs:{label:t.name,value:t.custId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.custId))])])}),1)],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,inline:!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"客户名","label-width":"80px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.soldto.name,callback:function(t){e.$set(e.header.soldto,"name",t)},expression:"header.soldto.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户地址","label-width":"80px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.soldto.address,callback:function(t){e.$set(e.header.soldto,"address",t)},expression:"header.soldto.address"}})],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,inline:!1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"送达方",filterable:"","label-width":"80px"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},on:{change:e.setShipTo},model:{value:e.header.shipTo,callback:function(t){e.$set(e.header,"shipTo",t)},expression:"header.shipTo"}},e._l(e.customers,function(t){return a("el-option",{key:t.custId,attrs:{label:t.name,value:t.custId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.custId))])])}),1)],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,inline:!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"客户名","label-width":"80px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.shipto.name,callback:function(t){e.$set(e.header.shipto,"name",t)},expression:"header.shipto.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户地址","label-width":"80px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.shipto.address,callback:function(t){e.$set(e.header.shipto,"address",t)},expression:"header.shipto.address"}})],1)],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"货物清单",name:"tab_item"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.header.tourItem,stripe:""}},[a("el-table-column",{attrs:{prop:"seq",label:"编号",sortable:"",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"container",label:"集装箱编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"commodity",label:"货物"}}),e._v(" "),a("el-table-column",{attrs:{prop:"quan",label:"数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"目的地"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"运输状态"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEditCargo(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDeleteCargo(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addCargo}},[e._v("添加")])],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"驾驶员信息",name:"tab_drv"}},[a("el-form",{ref:"form",attrs:{model:e.header,inline:!1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"驾驶员编号",filterable:"","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},on:{change:e.setDriver},model:{value:e.header.driver.driverId,callback:function(t){e.$set(e.header.driver,"driverId",t)},expression:"header.driver.driverId"}},e._l(e.drivers,function(t){return a("el-option",{key:t.driverId,attrs:{label:t.driverId,value:t.driverId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.driverId))])])}),1)],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名","label-width":"100px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.driver.name,callback:function(t){e.$set(e.header.driver,"name",t)},expression:"header.driver.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话","label-width":"100px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.driver.tel,callback:function(t){e.$set(e.header.driver,"tel",t)},expression:"header.driver.tel"}})],1)],1)],1)],1)],1)])],1)],1)},staticRenderFns:[]},N=a("VU/8")(P,B,!1,null,null,null).exports,G=a("bOdI"),W=a.n(G),j={name:"map",data:function(){var e;return e={form:{locId:"",address:"",seq:"",planDepart:"",planArr:"",status:"P"},cargoform:{seq:"",container:"",quan:"",quanUom:"",commodity:"",locId:"",address:""},dialogFormVisible:!1,dialogFormVisibleCargo:!1,pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"明天",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"一周后",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}}]},map:null,thisPosition:{location:"",lng:"",lat:""},srcLoc:{lng:"",lat:""},destLoc:{lng:"",lat:""},isVisible:!1,trafficLayer:{},activeName:"tab_map",tourTypes:[],locations:[],customers:[]},W()(e,"tourTypes",[]),W()(e,"drivers",[]),W()(e,"vehs",[]),W()(e,"plannedStopsDetail",[]),W()(e,"header",{tourid:"",exeStatus:"",sourceLoc:{address:""},destLoc:{address:""},driver:{driverId:"",name:"",tel:""},soldto:{custId:"",type:"",name:"",address:""},shipto:{custId:"",type:"",name:"",address:""},planDepart:"",planArr:"",vehicle:{assetId:"",assetType:"",platenumber:"",make:"",model:"",vin:"",year:"",hardware:"",location:""}}),e},created:function(){this.MT_DATA&&(this.locations=this.MT_DATA.locations,this.tourTypes=this.MT_DATA.tourTypes,this.vehs=this.MT_DATA.assets,this.customers=this.MT_DATA.customers,this.drivers=this.MT_DATA.drivers,this.UoMoptions=this.MT_DATA.UoMoptions),this.getParams()},activated:function(){},mounted:function(){this.map=new M.a.Map("container-map",{resizeEnable:!0,zoom:15,viewMode:"2D",center:[121.475476,31.228477],zooms:[4,18]}),this.trafficLayer=new M.a.TileLayer.Traffic({zIndex:10}),this.map.add(this.trafficLayer),this.trafficLayer.hide(),this.addTool(),this.getTour()},methods:{onSave:function(){var e=this,t=this.header;this.$axios({url:"/api/v1/tour",method:"put",data:t,headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){e.$notify({title:"成功",message:"行程 "+t.data+" 更新成功",type:"success"})}).catch(function(e){console.log(e)})},handleEdit:function(e,t){this.edit=!0,this.dialogFormVisible=!0,this.form.locId=t.locid,this.form.address=t.address,this.form.seq=t.seq,this.form.planDepart=t.planDepart,this.form.planArr=t.planArr,this.form.status=t.status},handleEditCargo:function(e,t){this.edit=!0,this.dialogFormVisibleCargo=!0,this.cargoform.locId=t.locId,this.cargoform.address=t.address,this.cargoform.seq=t.seq,this.cargoform.container=t.container,this.cargoform.quan=t.quan,this.cargoform.quanUom=t.quanUom,this.cargoform.commodity=t.commodity},handleDelete:function(e,t){var a=t.seq-1;this.header.plannedStopsDetail.splice(a,1)},handleDeleteCargo:function(e,t){var a=t.seq-1;this.header.tourItem.splice(a,1)},addStop:function(){this.edit=!1,this.dialogFormVisible=!0,this.form.locId="",this.form.address="",this.form.seq=this.header.plannedStopsDetail.length+1,this.form.planDepart="",this.form.planArr="",this.form.status="P"},addCargo:function(){this.edit=!1,this.dialogFormVisibleCargo=!0,this.cargoform.locId="",this.cargoform.address="",this.cargoform.seq=this.header.tourItem.length+1,this.cargoform.container="",this.cargoform.quan="",this.cargoform.quanUom="",this.cargoform.commodity="",this.cargoform.location=""},setCust:function(e){var t=!0,a=!1,l=void 0;try{for(var o,r=R()(this.customers);!(t=(o=r.next()).done);t=!0){var s=o.value;if(s.custId===e){this.header.custId=e,this.header.soldto={name:s.name,address:s.address};break}}}catch(e){a=!0,l=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw l}}},setShipTo:function(e){var t=!0,a=!1,l=void 0;try{for(var o,r=R()(this.customers);!(t=(o=r.next()).done);t=!0){var s=o.value;if(s.custId===e){this.header.shipTo=e,this.header.shipto={name:s.name,address:s.address};break}}}catch(e){a=!0,l=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw l}}},setDriver:function(e){var t=!0,a=!1,l=void 0;try{for(var o,r=R()(this.drivers);!(t=(o=r.next()).done);t=!0){var s=o.value;if(s.driverId===e){this.header.driver={driverId:s.driverId,name:s.name,tel:s.tel};break}}}catch(e){a=!0,l=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw l}}},setVeh:function(e){var t=!0,a=!1,l=void 0;try{for(var o,r=R()(this.vehs);!(t=(o=r.next()).done);t=!0){var s=o.value;if(s.assetId===e){this.header.vehicle={assetId:e,assetType:s.assetType,platenumber:s.platenumber,make:s.make,model:s.model,vin:s.vin,year:s.year,hardware:s.hardware,location:s.location};break}}}catch(e){a=!0,l=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw l}}},setVehPos:function(){var e="";e="01"===this.header.exeStatus?"/static/lorrygreen.png":"/static/truckyellow.png";var t=new M.a.Icon({size:new M.a.Size(128,128),image:e,imageSize:new M.a.Size(32,32)}),a=new M.a.Marker({position:new M.a.LngLat(this.thisPosition.lng,this.thisPosition.lat),icon:t,offset:new M.a.Pixel(-13,-30)});this.map.add(a)},setPlannedStop:function(){var e=new M.a.Icon({size:new M.a.Size(25,34),image:"//a.amap.com/jsapi_demos/static/demo-center/icons/dir-marker.png",imageSize:new M.a.Size(135,40),imageOffset:new M.a.Pixel(-9,-3)}),t=new M.a.Icon({size:new M.a.Size(25,34),image:"//a.amap.com/jsapi_demos/static/demo-center/icons/dir-marker.png",imageSize:new M.a.Size(135,40),imageOffset:new M.a.Pixel(-95,-3)}),a=this.header.plannedStopsDetail.length-1,l=this.header.plannedStopsDetail.map(function(l,o){var r={};if(0===o)r=e;else{if(o!==a)return new M.a.Marker({position:new M.a.LngLat(l.location.lng,l.location.lat),icon:"//a.amap.com/jsapi_demos/static/demo-center/icons/dir-via-marker.png",offset:new M.a.Pixel(-13,-30)});r=t}return new M.a.Marker({position:new M.a.LngLat(l.location.lng,l.location.lat),icon:r,offset:new M.a.Pixel(-13,-30)})});this.map.add(l)},addTool:function(){var e=this;M.a.plugin(["AMap.ToolBar","AMap.TruckDriving"],function(){var t=new M.a.ToolBar;e.map.addControl(t)})},addTraffic:function(){this.isVisible?(this.trafficLayer.hide(),this.isVisible=!1):(this.trafficLayer.show(),this.isVisible=!0)},drawLine:function(){var e=this.header.actualStops.map(function(e,t){return[e.lng,e.lat]});new M.a.Polyline({path:e,showDir:!0,isOutline:!0,outlineColor:"#ffeeff",borderWeight:3,strokeColor:"#3366FF",strokeOpacity:1,strokeWeight:6,strokeStyle:"solid",strokeDasharray:[10,5],lineJoin:"round",lineCap:"round",zIndex:50}).setMap(this.map)},truckRoute:function(){this.map.clearMap(),this.setPlannedStop(),this.setVehPos();var e=new M.a.TruckDriving({map:this.map,size:4,panel:"panel",isOutline:!1,autoFitView:!0,hideMarkers:!0}),t=[];t.push({lnglat:[this.thisPosition.lng,this.thisPosition.lat]}),t.push({lnglat:[this.destLoc.lng,this.destLoc.lat]}),e.search(t,function(e,t){"complete"===e?console.log("绘制驾车路线完成"):console.log("获取驾车数据失败："+t)}),this.drawLine()},formatDate:function(e,t,a,l){if(""!==a&&null!==a)return"string"==typeof a?new Date(a).toLocaleString():a.toLocaleString()},formatStatus:function(e,t,a,l){return"P"===a?"计划中":"运行中"},onSubmit:function(){if(this.dialogFormVisible=!1,this.edit){var e=this.form.seq-1,t=this.form.locId;this.header.plannedStopsDetail[e].locid=this.form.locId;var a=this.locations.find(function(e){return e.locId==t});this.header.plannedStopsDetail[e].location.address=a.address,this.header.plannedStopsDetail[e].planDepart=this.form.planDepart,this.header.plannedStopsDetail[e].planArr=this.form.planArr}else{var l={};l.locid=this.form.locId;var o=this.locations.find(function(e){return e.locId==l.locid});l.seq=this.form.seq,l.planDepart=this.form.planDepart,l.planArr=this.form.planArr,l.status=this.form.status,l.location={},l.location.address=o.address,this.header.plannedStopsDetail.push(l)}},onSubmitCargo:function(){if(this.dialogFormVisibleCargo=!1,this.edit){var e=this.cargoform.seq-1,t=this.cargoform.locId;this.header.tourItem[e].locid=this.cargoform.locId;var a=this.locations.find(function(e){return e.locId==t});this.header.tourItem[e].address=a.address,this.header.tourItem[e].container=this.cargoform.container,this.header.tourItem[e].quan=this.cargoform.quan,this.header.tourItem[e].quanUom=this.cargoform.quanUom,this.header.tourItem[e].commodity=this.cargoform.commodity,this.header.tourItem[e].location=this.cargoform.locId}else{var l={};l.locid=this.cargoform.locId;var o=this.locations.find(function(e){return e.locId==l.locid});l.address=o.address,l.seq=this.cargoform.seq,l.container=this.cargoform.container,l.quan=this.cargoform.quan,l.quanUom=this.cargoform.quanUom,l.commodity=this.cargoform.commodity,l.location=this.cargoform.locId,l.status="计划中",this.header.tourItem.push(l)}},handleClick:function(e,t){console.log(e,t)},getParams:function(){var e=this.$route.params.id;console.log("传来的参数=="+e),this.header.tourid=e},reportPos:function(){var e=this;this.$axios({url:"/api/v1/actualStop",method:"post",data:{tourid:this.header.tourid,lng:"121.475885",lat:"31.23082",seq:1},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){e.header.actualStops.push(t.data),e.thisPosition.lng=t.data.lng,e.thisPosition.lat=t.data.lat,e.truckRoute()}).catch(function(e){console.log(e)})},getTour:function(){var e=this;this.$axios.get("/api/v1/tourDetail",{params:{tourid:this.header.tourid}}).then(function(t){e.header=t.data,e.srcLoc={lng:e.header.sourceLoc.lng,lat:e.header.sourceLoc.lat},e.destLoc={lng:e.header.destLoc.lng,lat:e.header.destLoc.lat};var a=t.data.actualStops.length;e.thisPosition={lng:a>0?t.data.actualStops[a-1].lng:t.data.sourceLoc.lng,lat:a>0?t.data.actualStops[a-1].lat:t.data.sourceLoc.lat},e.truckRoute()}).catch(function(e){alert(e)})}}},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"添加站点",visible:e.dialogFormVisible,width:"50%","label-width":"100px","label-position":"left"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"顺序"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{maxlength:"10",disabled:!0},model:{value:e.form.seq,callback:function(t){e.$set(e.form,"seq",t)},expression:"form.seq"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"站点"}},[a("el-col",{attrs:{span:18}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.form.locId,callback:function(t){e.$set(e.form,"locId",t)},expression:"form.locId"}},e._l(e.locations,function(t){return a("el-option",{key:t.locId,attrs:{label:t.address,value:t.locId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.locId))])])}),1)],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"计划到达时间"}},[a("el-col",{attrs:{span:12}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.form.planArr,callback:function(t){e.$set(e.form,"planArr",t)},expression:"form.planArr"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"计划出发时间"}},[a("el-col",{attrs:{span:12}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.form.planDepart,callback:function(t){e.$set(e.form,"planDepart",t)},expression:"form.planDepart"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加货物",visible:e.dialogFormVisibleCargo,width:"50%","label-width":"100px","label-position":"left"},on:{"update:visible":function(t){e.dialogFormVisibleCargo=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.cargoform,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"顺序"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{maxlength:"10",disabled:!0},model:{value:e.cargoform.seq,callback:function(t){e.$set(e.cargoform,"seq",t)},expression:"cargoform.seq"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"集装箱编号"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.cargoform.container,callback:function(t){e.$set(e.cargoform,"container",t)},expression:"cargoform.container"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数量"}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.cargoform.quan,callback:function(t){e.$set(e.cargoform,"quan",t)},expression:"cargoform.quan"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.cargoform.quanUom,callback:function(t){e.$set(e.cargoform,"quanUom",t)},expression:"cargoform.quanUom"}},e._l(e.UoMoptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"货物"}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.cargoform.commodity,callback:function(t){e.$set(e.cargoform,"commodity",t)},expression:"cargoform.commodity"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"目的地"}},[a("el-col",{attrs:{span:18}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.cargoform.locId,callback:function(t){e.$set(e.cargoform,"locId",t)},expression:"cargoform.locId"}},e._l(e.locations,function(t){return a("el-option",{key:t.locId,attrs:{label:t.address,value:t.locId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.locId))])])}),1)],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisibleCargo=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmitCargo}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"80px",inline:!0}},[a("el-form-item",{attrs:{label:"行程编号"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.tourid,callback:function(t){e.$set(e.header,"tourid",t)},expression:"header.tourid"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保存")])],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"80px",inline:!0}},[a("el-form-item",{attrs:{label:"行程类型"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.header.tourType,callback:function(t){e.$set(e.header,"tourType",t)},expression:"header.tourType"}},e._l(e.tourTypes,function(t){return a("el-option",{key:t.tourType,attrs:{label:t.text,value:t.tourType}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.text))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.tourType))])])}),1)],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"80px",inline:!0}},[a("el-form-item",{attrs:{label:"发车地点"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.header.sourceLoc.locId,callback:function(t){e.$set(e.header.sourceLoc,"locId",t)},expression:"header.sourceLoc.locId"}},e._l(e.locations,function(t){return a("el-option",{key:t.locId,attrs:{label:t.address,value:t.locId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.locId))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"出发时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.header.planDepart,callback:function(t){e.$set(e.header,"planDepart",t)},expression:"header.planDepart"}})],1)],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"80px",inline:!0}},[a("el-form-item",{attrs:{label:"目的地址"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.header.destLoc.locId,callback:function(t){e.$set(e.header.destLoc,"locId",t)},expression:"header.destLoc.locId"}},e._l(e.locations,function(t){return a("el-option",{key:t.locId,attrs:{label:t.address,value:t.locId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.locId))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"预计达到"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.header.planArr,callback:function(t){e.$set(e.header,"planArr",t)},expression:"header.planArr"}})],1)],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"车辆监控",name:"tab_map"}},[a("div",[a("div",{staticStyle:{width:"100%",height:"500px"},attrs:{id:"container-map"}}),e._v(" "),a("button",{on:{click:e.setPlannedStop}},[e._v("加载")]),e._v(" "),a("button",{on:{click:e.addTraffic}},[e._v("交通")]),e._v(" "),a("button",{on:{click:e.drawLine}},[e._v("路径")]),e._v(" "),a("button",{on:{click:e.truckRoute}},[e._v("卡车")]),e._v(" "),a("button",{on:{click:e.reportPos}},[e._v("发送GPS")]),e._v(" "),a("div",{attrs:{id:"panel"}})])]),e._v(" "),a("el-tab-pane",{attrs:{label:"车辆信息",name:"tab_veh"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"100px",inline:!0}},[a("el-form-item",{attrs:{label:"车辆编号",filterable:"","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},on:{change:e.setVeh},model:{value:e.header.vehicle.assetId,callback:function(t){e.$set(e.header.vehicle,"assetId",t)},expression:"header.vehicle.assetId"}},e._l(e.vehs,function(t){return a("el-option",{key:t.assetId,attrs:{label:t.platenumber,value:t.assetId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.platenumber+","+t.assetType))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.assetId))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"车辆类型"}},[a("el-select",{model:{value:e.header.vehicle.assetType,callback:function(t){e.$set(e.header.vehicle,"assetType",t)},expression:"header.vehicle.assetType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车牌号码"}},[a("el-select",{model:{value:e.header.vehicle.platenumber,callback:function(t){e.$set(e.header.vehicle,"platenumber",t)},expression:"header.vehicle.platenumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"制造商"}},[a("el-select",{model:{value:e.header.vehicle.make,callback:function(t){e.$set(e.header.vehicle,"make",t)},expression:"header.vehicle.make"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"型号"}},[a("el-select",{model:{value:e.header.vehicle.model,callback:function(t){e.$set(e.header.vehicle,"model",t)},expression:"header.vehicle.model"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车辆识别号"}},[a("el-select",{model:{value:e.header.vehicle.vin,callback:function(t){e.$set(e.header.vehicle,"vin",t)},expression:"header.vehicle.vin"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出厂日期"}},[a("el-date-picker",{attrs:{type:"date"},model:{value:e.header.vehicle.year,callback:function(t){e.$set(e.header.vehicle,"year",t)},expression:"header.vehicle.year"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车载设备编号"}},[a("el-select",{model:{value:e.header.vehicle.hardware,callback:function(t){e.$set(e.header.vehicle,"hardware",t)},expression:"header.vehicle.hardware"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车辆所在地"}},[a("el-select",{model:{value:e.header.vehicle.location,callback:function(t){e.$set(e.header.vehicle,"location",t)},expression:"header.vehicle.location"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"})])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"停靠站点",name:"tab_stop"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.header.plannedStopsDetail,stripe:""}},[a("el-table-column",{attrs:{prop:"seq",label:"编号",sortable:"",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"location.address",label:"停靠站点"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"行程状态",formatter:e.formatStatus}}),e._v(" "),a("el-table-column",{attrs:{prop:"planDepart",label:"计划出发时间",width:"180",formatter:e.formatDate}}),e._v(" "),a("el-table-column",{attrs:{prop:"planArr",label:"计划到达时间",width:"180",formatter:e.formatDate}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addStop}},[e._v("添加")])],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"客户信息",name:"tab_cust"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{ref:"form",attrs:{model:e.header,inline:!1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"客户编号","label-width":"80px",filterable:""}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},on:{change:e.setCust},model:{value:e.header.custId,callback:function(t){e.$set(e.header,"custId",t)},expression:"header.custId"}},e._l(e.customers,function(t){return a("el-option",{key:t.custId,attrs:{label:t.name,value:t.custId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.custId))])])}),1)],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,inline:!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"客户名","label-width":"80px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.soldto.name,callback:function(t){e.$set(e.header.soldto,"name",t)},expression:"header.soldto.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户地址","label-width":"80px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.soldto.address,callback:function(t){e.$set(e.header.soldto,"address",t)},expression:"header.soldto.address"}})],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,inline:!1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"送达方",filterable:"","label-width":"80px"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},on:{change:e.setShipTo},model:{value:e.header.shipTo,callback:function(t){e.$set(e.header,"shipTo",t)},expression:"header.shipTo"}},e._l(e.customers,function(t){return a("el-option",{key:t.custId,attrs:{label:t.name,value:t.custId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.custId))])])}),1)],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,inline:!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"客户名","label-width":"80px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.shipto.name,callback:function(t){e.$set(e.header.shipto,"name",t)},expression:"header.shipto.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户地址","label-width":"80px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.shipto.address,callback:function(t){e.$set(e.header.shipto,"address",t)},expression:"header.shipto.address"}})],1)],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"货物清单",name:"tab_item"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.header.tourItem,stripe:""}},[a("el-table-column",{attrs:{prop:"seq",label:"编号",sortable:"",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"container",label:"集装箱编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"commodity",label:"货物"}}),e._v(" "),a("el-table-column",{attrs:{prop:"quan",label:"数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"目的地"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"运输状态"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEditCargo(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDeleteCargo(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addCargo}},[e._v("添加")])],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"驾驶员信息",name:"tab_drv"}},[a("el-form",{ref:"form",attrs:{model:e.header,inline:!1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"驾驶员编号","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},on:{change:e.setDriver},model:{value:e.header.driver.driverId,callback:function(t){e.$set(e.header.driver,"driverId",t)},expression:"header.driver.driverId"}},e._l(e.drivers,function(t){return a("el-option",{key:t.driverId,attrs:{label:t.driverId,value:t.driverId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.driverId))])])}),1)],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名","label-width":"100px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.driver.name,callback:function(t){e.$set(e.header.driver,"name",t)},expression:"header.driver.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话","label-width":"100px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.driver.tel,callback:function(t){e.$set(e.header.driver,"tel",t)},expression:"header.driver.tel"}})],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"事件管理",name:"tab_event"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.header.events,stripe:""}},[a("el-table-column",{attrs:{prop:"seq",label:"编号",sortable:"",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"eventCode",label:"事件编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"location",label:"发生位置"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"时间状态"}}),e._v(" "),a("el-table-column",{attrs:{label:"事件发生时间",width:"180",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdOn))])]}}])})],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"消息管理",name:"tab_msg"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.header.notifications,stripe:""}},[a("el-table-column",{attrs:{prop:"seq",label:"编号",sortable:"",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text",label:"消息通知"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdBy",label:"创建人"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",width:"180",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdOn))])]}}])})],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var Q=a("VU/8")(j,Z,!1,function(e){a("hqde")},"data-v-b00aea9a",null).exports,J={data:function(){var e;return e={search:"",edit:!1,form:{resvId:"$1",resvType:"",sourceLocid:"",planDepart:"",destLocid:"",planArr:"",vehicleId:"",driverId:"",custId:"",shipTo:""},pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"明天",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"一周后",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}}]},locations:[],customers:[],resvTypes:[],drivers:[],vehs:[]},W()(e,"resvTypes",[]),W()(e,"formInline",{resvId:"",resvType:"",sourceLocid:"",destLocid:"",vehicleId:"",driverId:"",shipTo:""}),W()(e,"dialogTableVisible",!1),W()(e,"dialogFormVisible",!1),W()(e,"tableData",[]),e},created:function(){var e=this;this.MT_DATA&&(this.locations=this.MT_DATA.locations,this.vehs=this.MT_DATA.assets,this.customers=this.MT_DATA.customers,this.drivers=this.MT_DATA.drivers,this.resvTypes=this.MT_DATA.resvTypes),this.$axios.get("/api/v1/reservation",{params:{resvId:null}}).then(function(t){e.tableData=t.data;for(var a=0;a<e.tableData.length;a++){var l=!0,o=!1,r=void 0;try{for(var s,i=R()(e.locations);!(l=(s=i.next()).done);l=!0){var n=s.value;n.locId===e.tableData[a].sourceLocid&&(e.tableData[a].sourceLocAddr=n.address),n.locId===e.tableData[a].destLocid&&(e.tableData[a].destLocAddr=n.address)}}catch(e){o=!0,r=e}finally{try{!l&&i.return&&i.return()}finally{if(o)throw r}}var c=!0,d=!1,m=void 0;try{for(var u,p=R()(e.resvTypes);!(c=(u=p.next()).done);c=!0){var f=u.value;f.resvType===e.tableData[a].resvType&&(e.tableData[a].resvText=f.text)}}catch(e){d=!0,m=e}finally{try{!c&&p.return&&p.return()}finally{if(d)throw m}}}}).catch(function(e){alert(e)})},methods:{formatDate:function(e,t){return e.createdBy},handleEdit:function(e,t){this.edit=!0,this.dialogFormVisible=!0,this.form.resvId=t.resvId,this.form.resvType=t.resvType,this.form.sourceLocid=t.sourceLocid,this.form.planDepart=t.planDepart,this.form.destLocid=t.destLocid,this.form.planArr=t.planArr,this.form.vehicleId=t.vehicleId,this.form.driverId=t.driverId,this.form.custId=t.custId,this.form.shipTo=t.shipTo,console.log(e,t.createdBy)},handleDelete:function(e,t){var a=this;this.$axios({url:"/api/v1/reservation/"+t.resvId,method:"delete",headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(e){a.tableData=e.data;for(var t=0;t<a.tableData.length;t++){var l=!0,o=!1,r=void 0;try{for(var s,i=R()(a.locations);!(l=(s=i.next()).done);l=!0){var n=s.value;n.locId===a.tableData[t].sourceLocid&&(a.tableData[t].sourceLocAddr=n.address),n.locId===a.tableData[t].destLocid&&(a.tableData[t].destLocAddr=n.address)}}catch(e){o=!0,r=e}finally{try{!l&&i.return&&i.return()}finally{if(o)throw r}}var c=!0,d=!1,m=void 0;try{for(var u,p=R()(a.resvTypes);!(c=(u=p.next()).done);c=!0){var f=u.value;f.resvType===a.tableData[t].resvType&&(a.tableData[t].resvText=f.text)}}catch(e){d=!0,m=e}finally{try{!c&&p.return&&p.return()}finally{if(d)throw m}}}}).catch(function(e){console.log(e)}),console.log(e,t)},setVeh:function(e){},setCust:function(e){this.form.custId=e},setShipTo:function(e){this.form.shipTo=e},setDriver:function(e){},onGet:function(){var e=this;this.$axios.get("/api/v1/reservation",{params:{resvId:this.formInline.resvId,resvType:this.formInline.resvType}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},onCreate:function(){this.dialogFormVisible=!0,this.edit=!1,this.form.resvId="$1",this.form.resvType="",this.form.sourceLocid="",this.form.planDepart="",this.form.destLocid="",this.form.planArr="",this.form.vehicleId="",this.form.driverId="",this.form.custId="",this.form.shipTo=""},onSubmit:function(){var e=this;this.dialogFormVisible=!1,!1===this.edit?this.$axios({url:"/api/v1/reservation",method:"post",data:this.form,headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){e.form.resvId="$1",e.form.resvType="",e.form.sourceLocid="",e.form.planDepart="",e.form.destLocid="",e.form.planArr="",e.form.vehicleId="",e.form.driverId="",e.form.custId="",e.form.shipTo="",e.tableData=t.data;for(var a=0;a<e.tableData.length;a++){var l=!0,o=!1,r=void 0;try{for(var s,i=R()(e.locations);!(l=(s=i.next()).done);l=!0){var n=s.value;n.locId===e.tableData[a].sourceLocid&&(e.tableData[a].sourceLocAddr=n.address),n.locId===e.tableData[a].destLocid&&(e.tableData[a].destLocAddr=n.address)}}catch(e){o=!0,r=e}finally{try{!l&&i.return&&i.return()}finally{if(o)throw r}}var c=!0,d=!1,m=void 0;try{for(var u,p=R()(e.resvTypes);!(c=(u=p.next()).done);c=!0){var f=u.value;f.resvType===e.tableData[a].resvType&&(e.tableData[a].resvText=f.text)}}catch(e){d=!0,m=e}finally{try{!c&&p.return&&p.return()}finally{if(d)throw m}}}}).catch(function(e){console.log(e)}):this.$axios({url:"/api/v1/reservation",method:"put",data:this.form,headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.resvId="$1",e.form.resvType="",e.form.sourceLocid="",e.form.planDepart="",e.form.destLocid="",e.form.planArr="",e.form.vehicleId="",e.form.driverId="",e.form.custId="",e.form.shipTo="",e.tableData=t.data;for(var a=0;a<e.tableData.length;a++){var l=!0,o=!1,r=void 0;try{for(var s,i=R()(e.locations);!(l=(s=i.next()).done);l=!0){var n=s.value;n.locId===e.tableData[a].sourceLocid&&(e.tableData[a].sourceLocAddr=n.address),n.locId===e.tableData[a].destLocid&&(e.tableData[a].destLocAddr=n.address)}}catch(e){o=!0,r=e}finally{try{!l&&i.return&&i.return()}finally{if(o)throw r}}var c=!0,d=!1,m=void 0;try{for(var u,p=R()(e.resvTypes);!(c=(u=p.next()).done);c=!0){var f=u.value;f.resvType===e.tableData[a].resvType&&(e.tableData[a].resvText=f.text)}}catch(e){d=!0,m=e}finally{try{!c&&p.return&&p.return()}finally{if(d)throw m}}}}).catch(function(e){console.log(e)})}}},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"车辆预定",visible:e.dialogFormVisible,width:"60%","label-width":"100px","label-position":"left"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.form,"label-width":"100px",inline:!0}},[a("el-form-item",{attrs:{label:"预定编号",prop:"name"}},[a("el-input",{attrs:{maxlength:"10",disabled:!0},model:{value:e.form.resvId,callback:function(t){e.$set(e.form,"resvId",t)},expression:"form.resvId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.form.resvType,callback:function(t){e.$set(e.form,"resvType",t)},expression:"form.resvType"}},e._l(e.resvTypes,function(t){return a("el-option",{key:t.resvType,attrs:{label:t.text,value:t.resvType}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.text))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.resvType))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"发车地点"}},[a("el-col",{attrs:{span:18}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.form.sourceLocid,callback:function(t){e.$set(e.form,"sourceLocid",t)},expression:"form.sourceLocid"}},e._l(e.locations,function(t){return a("el-option",{key:t.locId,attrs:{label:t.address,value:t.locId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.locId))])])}),1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"计划出发时间"}},[a("el-col",{attrs:{span:18}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.form.planDepart,callback:function(t){e.$set(e.form,"planDepart",t)},expression:"form.planDepart"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"目的地址"}},[a("el-col",{attrs:{span:18}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.form.destLocid,callback:function(t){e.$set(e.form,"destLocid",t)},expression:"form.destLocid"}},e._l(e.locations,function(t){return a("el-option",{key:t.locId,attrs:{label:t.address,value:t.locId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.locId))])])}),1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"计划到达时间"}},[a("el-col",{attrs:{span:18}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.form.planArr,callback:function(t){e.$set(e.form,"planArr",t)},expression:"form.planArr"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"车辆编号",filterable:"","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},on:{change:e.setVeh},model:{value:e.form.vehicleId,callback:function(t){e.$set(e.form,"vehicleId",t)},expression:"form.vehicleId"}},e._l(e.vehs,function(t){return a("el-option",{key:t.assetId,attrs:{label:t.platenumber,value:t.assetId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.platenumber+","+t.assetType))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.assetId))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"驾驶员编号",filterable:"","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},on:{change:e.setDriver},model:{value:e.form.driverId,callback:function(t){e.$set(e.form,"driverId",t)},expression:"form.driverId"}},e._l(e.drivers,function(t){return a("el-option",{key:t.driverId,attrs:{label:t.name,value:t.driverId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.driverId))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"客户编号",filterable:""}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},on:{change:e.setCust},model:{value:e.form.custId,callback:function(t){e.$set(e.form,"custId",t)},expression:"form.custId"}},e._l(e.customers,function(t){return a("el-option",{key:t.custId,attrs:{label:t.name,value:t.custId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.custId))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"送达方",filterable:""}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},on:{change:e.setShipTo},model:{value:e.form.shipTo,callback:function(t){e.$set(e.form,"shipTo",t)},expression:"form.shipTo"}},e._l(e.customers,function(t){return a("el-option",{key:t.custId,attrs:{label:t.name,value:t.custId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.custId))])])}),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"预定编号"}},[a("el-input",{attrs:{placeholder:"预定编号"},model:{value:e.formInline.resvId,callback:function(t){e.$set(e.formInline,"resvId",t)},expression:"formInline.resvId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-input",{attrs:{placeholder:"类型"},model:{value:e.formInline.resvType,callback:function(t){e.$set(e.formInline,"resvType",t)},expression:"formInline.resvType"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onGet}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onCreate}},[e._v("创建")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"预定编号",sortable:"",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.resvId))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"类型",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("类型: "+e._s(t.row.resvType))]),e._v(" "),a("p",[e._v("客户: "+e._s(t.row.shipTo))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.resvText))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发车地点",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.sourceLocAddr))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"计划发车时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.planDepart))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"目的地址",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.destLocAddr))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"计划到达时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.planArr))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)],1)},staticRenderFns:[]},K=a("VU/8")(J,Y,!1,null,null,null).exports,X={data:function(){return{formInline:{tourid:""},tourid:"",activeName:"second"}},methods:{onSubmit:function(){var e={id:this.formInline.tourid,message:"成功"};this.$router.push({name:"tourlist",params:e}),console.log(this.formInline.tourid)},handleClick:function(e,t){console.log(e,t)}}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("h1",[e._v("车辆预定清单")]),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,title:"行程查询"}},[a("el-form-item",{attrs:{label:"行程编号"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入行程编号"},model:{value:e.formInline.tourid,callback:function(t){e.$set(e.formInline,"tourid",t)},expression:"formInline.tourid"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("router-view")],1)],1)},staticRenderFns:[]},ee=a("VU/8")(X,H,!1,null,null,null).exports,te={data:function(){return{search:"",edit:!1,form:{schId:"$1",schType:"",startDt:"",endDt:"",mon:!1,tue:!1,wed:!1,thu:!1,fri:!1,sat:!1,sun:!1},pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"明天",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"一周后",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}}]},locations:[],schTypes:[],formInline:{schId:"",schType:""},dialogTableVisible:!1,dialogFormVisible:!1,tableData:[]}},created:function(){var e=this;this.MT_DATA&&(this.locations=this.MT_DATA.locations,this.schTypes=this.MT_DATA.schTypes),this.$axios.get("/api/v1/sch",{params:{schId:null}}).then(function(t){e.tableData=t.data;for(var a=0;a<e.tableData.length;a++){var l=!0,o=!1,r=void 0;try{for(var s,i=R()(e.schTypes);!(l=(s=i.next()).done);l=!0){var n=s.value;n.schType===e.tableData[a].schType&&(e.tableData[a].schText=n.text)}}catch(e){o=!0,r=e}finally{try{!l&&i.return&&i.return()}finally{if(o)throw r}}}}).catch(function(e){alert(e)})},methods:{formatDate:function(e,t,a,l){if(""!==a&&null!==a)return new Date(a).toLocaleDateString()},handleGen:function(e,t){var a=this;this.$axios({url:"/api/v1/schGenTour",method:"post",data:{schId:t.schId},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(e){a.$notify({title:"成功",message:" 创建成功"+e.data.length+"个行程 ",type:"success"})}).catch(function(e){console.log(e)})},handleEdit:function(e,t){this.edit=!0,this.dialogFormVisible=!0,this.form.schId=t.resvId,console.log(e,t.createdBy)},handleDelete:function(e,t){var a=this;this.$axios({url:"/api/v1/sch/"+t.schId,method:"delete",headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(e){a.tableData=e.data;for(var t=0;t<a.tableData.length;t++){var l=!0,o=!1,r=void 0;try{for(var s,i=R()(a.schTypes);!(l=(s=i.next()).done);l=!0){var n=s.value;n.resvType===a.tableData[t].schType&&(a.tableData[t].schText=n.text)}}catch(e){o=!0,r=e}finally{try{!l&&i.return&&i.return()}finally{if(o)throw r}}}}).catch(function(e){console.log(e)}),console.log(e,t)},onGet:function(){var e=this;this.$axios.get("/api/v1/sch",{params:{schId:this.formInline.resvId,schType:this.formInline.resvType}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},onSubmit:function(){var e=this;this.dialogFormVisible=!1,this.$axios({url:"/api/v1/sch",method:"put",data:this.form,headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.tableData=t.data;for(var a=0;a<e.tableData.length;a++){var l=!0,o=!1,r=void 0;try{for(var s,i=R()(e.schTypes);!(l=(s=i.next()).done);l=!0){var n=s.value;n.resvType===e.tableData[a].resvType&&(e.tableData[a].schText=n.text)}}catch(e){o=!0,r=e}finally{try{!l&&i.return&&i.return()}finally{if(o)throw r}}}}).catch(function(e){console.log(e)})}}},ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"行程计划",visible:e.dialogFormVisible,width:"50%","label-width":"100px","label-position":"left"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.form,"label-width":"100px",inline:!0}},[a("el-form-item",{attrs:{label:"计划编号",prop:"name"}},[a("el-input",{attrs:{maxlength:"10",disabled:!0},model:{value:e.form.schId,callback:function(t){e.$set(e.form,"schId",t)},expression:"form.schId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"计划类型"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.form.schType,callback:function(t){e.$set(e.form,"schType",t)},expression:"form.schType"}},e._l(e.schTypes,function(t){return a("el-option",{key:t.schType,attrs:{label:t.text,value:t.schType}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.text))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.schType))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-col",{attrs:{span:18}},[a("el-time-picker",{attrs:{placeholder:"选择时间"},model:{value:e.form.startDt,callback:function(t){e.$set(e.form,"startDt",t)},expression:"form.startDt"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-col",{attrs:{span:18}},[a("el-time-picker",{attrs:{placeholder:"选择时间"},model:{value:e.form.endDt,callback:function(t){e.$set(e.form,"endDt",t)},expression:"form.endDt"}})],1)],1)],1),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.form,"label-width":"100px",inline:!0}},[a("el-form-item",{attrs:{label:"星期一"}},[a("el-switch",{model:{value:e.form.mon,callback:function(t){e.$set(e.form,"mon",t)},expression:"form.mon"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"星期二"}},[a("el-switch",{model:{value:e.form.tue,callback:function(t){e.$set(e.form,"tue",t)},expression:"form.tue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"星期三"}},[a("el-switch",{model:{value:e.form.wed,callback:function(t){e.$set(e.form,"wed",t)},expression:"form.wed"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"星期四"}},[a("el-switch",{model:{value:e.form.thu,callback:function(t){e.$set(e.form,"thu",t)},expression:"form.thu"}})],1)],1),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.form,"label-width":"100px",inline:!0}},[a("el-form-item",{attrs:{label:"星期五"}},[a("el-switch",{model:{value:e.form.fri,callback:function(t){e.$set(e.form,"fri",t)},expression:"form.fri"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"星期六"}},[a("el-switch",{model:{value:e.form.sat,callback:function(t){e.$set(e.form,"sat",t)},expression:"form.sat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"星期日"}},[a("el-switch",{model:{value:e.form.sun,callback:function(t){e.$set(e.form,"sun",t)},expression:"form.sun"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"计划编号"}},[a("el-input",{attrs:{placeholder:"预定编号"},model:{value:e.formInline.schId,callback:function(t){e.$set(e.formInline,"schId",t)},expression:"formInline.schId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"计划类型"}},[a("el-input",{attrs:{placeholder:"类型"},model:{value:e.formInline.schType,callback:function(t){e.$set(e.formInline,"schType",t)},expression:"formInline.schType"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onGet}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"20"}}),e._v(" "),a("el-table-column",{attrs:{label:"计划编号",sortable:"",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.schId))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"计划类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("类型: "+e._s(t.row.schType))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.schText))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"startDt",label:"计划开始时间",width:"110",formatter:e.formatDate}}),e._v(" "),a("el-table-column",{attrs:{prop:"endDt",label:"计划结束时间",width:"110",formatter:e.formatDate}}),e._v(" "),a("el-table-column",{attrs:{label:"星期一",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"true","inactive-value":"false",disabled:""},model:{value:t.row.mon,callback:function(a){e.$set(t.row,"mon",a)},expression:"scope.row.mon"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"星期二",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"true","inactive-value":"false",disabled:""},model:{value:t.row.tue,callback:function(a){e.$set(t.row,"tue",a)},expression:"scope.row.tue"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"星期三",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"true","inactive-value":"false",disabled:""},model:{value:t.row.wed,callback:function(a){e.$set(t.row,"wed",a)},expression:"scope.row.wed"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"星期四",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"true","inactive-value":"false",disabled:""},model:{value:t.row.thu,callback:function(a){e.$set(t.row,"thu",a)},expression:"scope.row.thu"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"星期五",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"true","inactive-value":"false",disabled:""},model:{value:t.row.fri,callback:function(a){e.$set(t.row,"fri",a)},expression:"scope.row.fri"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"星期六",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"true","inactive-value":"false",disabled:""},model:{value:t.row.sat,callback:function(a){e.$set(t.row,"sat",a)},expression:"scope.row.sat"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"星期日",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"true","inactive-value":"false",disabled:""},model:{value:t.row.sun,callback:function(a){e.$set(t.row,"sun",a)},expression:"scope.row.sun"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleGen(t.$index,t.row)}}},[e._v("生成行程")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)],1)},staticRenderFns:[]},le=a("VU/8")(te,ae,!1,null,null,null).exports,oe={data:function(){return{search:"",edit:!1,form:{tourid:"",tourType:""},rules:{name:[{required:!0,message:"请输入行程编号",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}]},formInline:{tourid:"",tourType:"",sourceLocid:"",destLocid:"",vehicleId:"",driverId:"",shipTo:""},dialogTableVisible:!1,dialogFormVisible:!1,tableData:[]}},created:function(){var e=this;this.$axios.get("/api/v1/tour",{params:{tourid:null,tourType:null}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},methods:{formatDate:function(e,t,a,l){if(""!==a&&null!==a)return"string"==typeof a?new Date(a).toLocaleString():a.toLocaleString()},handleDetail:function(e,t){var a={id:t.tourid,message:"成功"};this.$router.push({name:"TourDetail",params:a}),console.log(this.formInline.tourid)},handleEdit:function(e,t){var a={id:t.tourid,message:"成功"};this.$router.push({name:"EditTour",params:a})},handleDelete:function(e,t){var a=this,l=t.tourid;this.$axios({url:"/api/v1/tour/"+t.tourid,method:"delete",headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(e){a.tableData=e.data,a.$notify({title:"成功",message:"行程 "+l+" 删除成功",type:"success"})}).catch(function(e){console.log(e)}),console.log(e,t)},onGet:function(){var e=this;this.$axios.get("/api/v1/tour",{params:{tourid:this.formInline.tourid,tourType:this.formInline.tourType}}).then(function(t){e.tableData=t.data}).catch(function(e){alert(e)})},onCreate:function(){this.dialogFormVisible=!0,this.edit=!1,this.form.tourid="",this.form.tourType=""},onSubmit:function(){var e=this;this.dialogFormVisible=!1,!1===this.edit?this.$axios({url:"/api/v1/tour",method:"post",data:{tourid:this.form.tourid,tourType:this.form.tourType,del:""},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.tourid="",e.form.tourType="",e.tableData=t.data}).catch(function(e){console.log(e)}):this.$axios({url:"/api/v1/tour",method:"put",data:{tourid:this.form.tourid,tourType:this.form.tourType},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){console.log(t.data),e.form.tourid="",e.form.tourType="",e.tableData=t.data}).catch(function(e){console.log(e)})}}},re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"行程管理",visible:e.dialogFormVisible,width:"30%","label-width":"100px","label-position":"left"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"行程编号",prop:"name"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.form.tourid,callback:function(t){e.$set(e.form,"tourid",t)},expression:"form.tourid"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"类型"}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{maxlength:"30"},model:{value:e.form.tourType,callback:function(t){e.$set(e.form,"tourType",t)},expression:"form.tourType"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"行程编号"}},[a("el-input",{attrs:{placeholder:"行程编号"},model:{value:e.formInline.tourid,callback:function(t){e.$set(e.formInline,"tourid",t)},expression:"formInline.tourid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-input",{attrs:{placeholder:"类型"},model:{value:e.formInline.tourType,callback:function(t){e.$set(e.formInline,"tourType",t)},expression:"formInline.tourType"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onGet}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onCreate}},[e._v("创建")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}}),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"行程编号",sortable:"",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.tourid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"类型",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("类型: "+e._s(t.row.tourid))]),e._v(" "),a("p",[e._v("描述: "+e._s(t.row.tourType))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.tourType))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发车地点",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.sourceLoc.address))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"planDepart",label:"计划出发时间",width:"180",formatter:e.formatDate}}),e._v(" "),a("el-table-column",{attrs:{label:"目的地址",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.destLoc.address))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleDetail(t.$index,t.row)}}},[e._v("明细")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)],1)},staticRenderFns:[]},se=a("VU/8")(oe,re,!1,null,null,null).exports,ie={name:"map",data:function(){return{edit:!1,item:[],UoMoptions:[],schTypes:[],form:{seq:"",locId:"",planDepart:"",planArr:"",days:0},dialogFormVisible:!1,dialogFormVisibleCargo:!1,pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"明天",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"一周后",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}}]},locations:[],customers:[],tourTypes:[],drivers:[],vehs:[],activeName:"tab_stop",header:{schId:"$1",schType:"",startDt:"",endDt:"",mon:!1,tue:!1,wed:!1,thu:!1,fri:!1,sat:!1,sun:!1,schStops:[]}}},created:function(){var e=this;this.MT_DATA&&(this.locations=this.MT_DATA.locations,this.tourTypes=this.MT_DATA.tourTypes,this.vehs=this.MT_DATA.assets,this.customers=this.MT_DATA.customers,this.drivers=this.MT_DATA.drivers,this.UoMoptions=this.MT_DATA.UoMoptions),this.$axios({url:"/api/v1/schType",method:"get"}).then(function(t){e.schTypes=t.data})},mounted:function(){},methods:{onSave:function(){var e=this,t=this.header;this.$axios({url:"/api/v1/sch",method:"post",data:t,headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){e.$notify({title:"成功",message:"计划 "+t.data+" 创建成功",type:"success"}),e.header.schId=t.data}).catch(function(e){console.log(e)})},addStop:function(){this.edit=!1,this.dialogFormVisible=!0,this.form.locId="",this.form.address="",this.form.days=0,this.form.seq=this.header.schStops.length+1,this.form.planDepart="",this.form.planArr="",this.form.status="P"},formatDate:function(e,t,a,l){if(""!==a&&null!==a)return a.toLocaleTimeString()},onSubmit:function(){if(this.dialogFormVisible=!1,this.edit){var e=this.form.seq-1,t=this.form.locId;this.header.schStops[e].locid=this.form.locId;var a=this.locations.find(function(e){return e.locId==t});this.header.schStops[e].address=a.address,this.header.schStops[e].planDepart=this.form.planDepart,this.header.schStops[e].planArr=this.form.planArr,this.header.schStops[e].days=this.form.days}else{var l={};l.locid=this.form.locId;var o=this.locations.find(function(e){return e.locId==l.locid});l.address=o.address,l.seq=this.form.seq,l.planDepart=this.form.planDepart,l.planArr=this.form.planArr,l.status=this.form.status,l.days=this.form.days,this.header.schStops.push(l)}},handleEdit:function(e,t){this.edit=!0,this.dialogFormVisible=!0,this.form.locId=t.locid,this.form.address=t.address,this.form.seq=t.seq,this.form.planDepart=t.planDepart,this.form.planArr=t.planArr,this.form.status=t.status,this.form.days=t.days},handleDelete:function(e,t){this.header.schStops.splice(e,1)},handleClick:function(e,t){console.log(e,t)}}},ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"添加站点",visible:e.dialogFormVisible,width:"50%","label-width":"100px","label-position":"left"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"顺序","label-width":"100px"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{maxlength:"10",disabled:!0},model:{value:e.form.seq,callback:function(t){e.$set(e.form,"seq",t)},expression:"form.seq"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"站点","label-width":"100px"}},[a("el-col",{attrs:{span:18}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.form.locId,callback:function(t){e.$set(e.form,"locId",t)},expression:"form.locId"}},e._l(e.locations,function(t){return a("el-option",{key:t.locId,attrs:{label:t.address,value:t.locId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.locId))])])}),1)],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"计划出发时间","label-width":"100px"}},[a("el-col",{attrs:{span:12}},[a("el-time-picker",{attrs:{placeholder:"选择时间"},model:{value:e.form.planDepart,callback:function(t){e.$set(e.form,"planDepart",t)},expression:"form.planDepart"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"计划到达时间","label-width":"100px"}},[a("el-col",{attrs:{span:12}},[a("el-time-picker",{attrs:{placeholder:"选择时间"},model:{value:e.form.planArr,callback:function(t){e.$set(e.form,"planArr",t)},expression:"form.planArr"}})],1)],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"运行天数","label-width":"100px"}},[a("el-col",{attrs:{span:12}},[a("el-input-number",{attrs:{placeholder:"选择时间"},model:{value:e.form.days,callback:function(t){e.$set(e.form,"days",t)},expression:"form.days"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"100px",inline:!0}},[a("el-form-item",{attrs:{label:"计划编号","label-width":"100px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.schId,callback:function(t){e.$set(e.header,"schId",t)},expression:"header.schId"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保存")])],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"100px",inline:!1}},[a("el-form-item",{attrs:{label:"计划类型","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.header.schType,callback:function(t){e.$set(e.header,"schType",t)},expression:"header.schType"}},e._l(e.schTypes,function(t){return a("el-option",{key:t.schType,attrs:{label:t.text,value:t.schType}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.text))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.schType))])])}),1)],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"100px",inline:!0}},[a("el-form-item",{attrs:{label:"计划开始时间","label-width":"100px"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.header.startDt,callback:function(t){e.$set(e.header,"startDt",t)},expression:"header.startDt"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"计划结束时间","label-width":"100px"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.header.endDt,callback:function(t){e.$set(e.header,"endDt",t)},expression:"header.endDt"}})],1)],1),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.form,"label-width":"100px",inline:!0}},[a("el-form-item",{attrs:{label:"发车规则 :"}})],1),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.header,"label-width":"100px",inline:!0}},[a("el-form-item",{attrs:{label:"星期一"}},[a("el-switch",{model:{value:e.header.mon,callback:function(t){e.$set(e.header,"mon",t)},expression:"header.mon"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"星期二"}},[a("el-switch",{model:{value:e.header.tue,callback:function(t){e.$set(e.header,"tue",t)},expression:"header.tue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"星期三"}},[a("el-switch",{model:{value:e.header.wed,callback:function(t){e.$set(e.header,"wed",t)},expression:"header.wed"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"星期四"}},[a("el-switch",{model:{value:e.header.thu,callback:function(t){e.$set(e.header,"thu",t)},expression:"header.thu"}})],1)],1),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.header,"label-width":"100px",inline:!0}},[a("el-form-item",{attrs:{label:"星期五"}},[a("el-switch",{model:{value:e.header.fri,callback:function(t){e.$set(e.header,"fri",t)},expression:"header.fri"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"星期六"}},[a("el-switch",{model:{value:e.header.sat,callback:function(t){e.$set(e.header,"sat",t)},expression:"header.sat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"星期日"}},[a("el-switch",{model:{value:e.header.sun,callback:function(t){e.$set(e.header,"sun",t)},expression:"header.sun"}})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"停靠站点",name:"tab_stop"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.header.schStops,stripe:""}},[a("el-table-column",{attrs:{prop:"seq",label:"编号",sortable:"",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"停靠站点",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"planDepart",label:"计划出发时间",width:"180",formatter:e.formatDate}}),e._v(" "),a("el-table-column",{attrs:{prop:"planArr",label:"计划到达时间",width:"180",formatter:e.formatDate}}),e._v(" "),a("el-table-column",{attrs:{label:"运行天数",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.days))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addStop}},[e._v("添加")])],1)],1)],1)],1)],1)],1)])],1)],1)},staticRenderFns:[]},ce=a("VU/8")(ie,ne,!1,null,null,null).exports,de={name:"map",data:function(){return{map:null,thisPosition:{location:"",lng:"",lat:""},srcLoc:{lng:"",lat:""},destLoc:{lng:"",lat:""},isVisible:!1,trafficLayer:{},activeName:"tab_map",tourTypes:[],locations:[],header:{tourid:"",exeStatus:"",sourceLoc:{address:""},destLoc:{address:""},driver:{driverId:"",name:"",tel:""},soldto:{custId:"",type:"",name:"",address:""},shipto:{custId:"",type:"",name:"",address:""},planDepart:"",planArr:"",vehicle:{assetId:"",assetType:"",platenumber:"",make:"",model:"",vin:"",year:"",hardware:"",location:""}}}},created:function(){this.MT_DATA&&(this.tourTypes=this.MT_DATA.tourTypes,this.locations=this.MT_DATA.locations),this.getParams()},activated:function(){},mounted:function(){this.map=new M.a.Map("container-map",{resizeEnable:!0,zoom:15,viewMode:"2D",center:[121.475476,31.228477],zooms:[4,18]}),this.trafficLayer=new M.a.TileLayer.Traffic({zIndex:10}),this.map.add(this.trafficLayer),this.trafficLayer.hide(),this.addTool(),this.getTour()},methods:{setVehPos:function(){var e="";e="01"===this.header.exeStatus?"/static/lorrygreen.png":"/static/truckyellow.png";var t=new M.a.Icon({size:new M.a.Size(128,128),image:e,imageSize:new M.a.Size(32,32)}),a=new M.a.Marker({position:new M.a.LngLat(this.thisPosition.lng,this.thisPosition.lat),icon:t,offset:new M.a.Pixel(-13,-30)});this.map.add(a)},setPlannedStop:function(){var e=new M.a.Icon({size:new M.a.Size(25,34),image:"//a.amap.com/jsapi_demos/static/demo-center/icons/dir-marker.png",imageSize:new M.a.Size(135,40),imageOffset:new M.a.Pixel(-9,-3)}),t=new M.a.Icon({size:new M.a.Size(25,34),image:"//a.amap.com/jsapi_demos/static/demo-center/icons/dir-marker.png",imageSize:new M.a.Size(135,40),imageOffset:new M.a.Pixel(-95,-3)}),a=this.header.plannedStopsDetail.length-1,l=this.header.plannedStopsDetail.map(function(l,o){var r={};if(0===o)r=e;else{if(o!==a)return new M.a.Marker({position:new M.a.LngLat(l.location.lng,l.location.lat),icon:"//a.amap.com/jsapi_demos/static/demo-center/icons/dir-via-marker.png",offset:new M.a.Pixel(-13,-30)});r=t}return new M.a.Marker({position:new M.a.LngLat(l.location.lng,l.location.lat),icon:r,offset:new M.a.Pixel(-13,-30)})});this.map.add(l)},addTool:function(){var e=this;M.a.plugin(["AMap.ToolBar","AMap.TruckDriving"],function(){var t=new M.a.ToolBar;e.map.addControl(t)})},addTraffic:function(){this.isVisible?(this.trafficLayer.hide(),this.isVisible=!1):(this.trafficLayer.show(),this.isVisible=!0)},drawLine:function(){var e=this.header.actualStops.map(function(e,t){return[e.lng,e.lat]});new M.a.Polyline({path:e,showDir:!0,isOutline:!0,outlineColor:"#ffeeff",borderWeight:3,strokeColor:"#3366FF",strokeOpacity:1,strokeWeight:6,strokeStyle:"solid",strokeDasharray:[10,5],lineJoin:"round",lineCap:"round",zIndex:50}).setMap(this.map)},truckRoute:function(){this.map.clearMap(),this.setPlannedStop(),this.setVehPos();var e=new M.a.TruckDriving({map:this.map,size:4,panel:"panel",isOutline:!1,autoFitView:!0,hideMarkers:!0}),t=[];t.push({lnglat:[this.thisPosition.lng,this.thisPosition.lat]}),t.push({lnglat:[this.destLoc.lng,this.destLoc.lat]}),e.search(t,function(e,t){"complete"===e?console.log("绘制驾车路线完成"):console.log("获取驾车数据失败："+t)}),this.drawLine()},formatDate:function(e,t){},onSubmit:function(){console.log("submit!")},handleClick:function(e,t){console.log(e,t)},getParams:function(){var e=this.$route.params.id;console.log("传来的参数=="+e),this.header.tourid=e},reportPos:function(){var e=this;this.$axios({url:"/api/v1/actualStop",method:"post",data:{tourid:this.header.tourid,lng:"121.475885",lat:"31.23082",seq:1},headers:{"Content-Type":"application/json",Origin:"http://localhost:8080"}}).then(function(t){e.header.actualStops.push(t.data),e.thisPosition.lng=t.data.lng,e.thisPosition.lat=t.data.lat,e.truckRoute()}).catch(function(e){console.log(e)})},getTour:function(){var e=this;this.$axios.get("/api/v1/tourDetail",{params:{tourid:this.header.tourid}}).then(function(t){e.header=t.data,e.srcLoc={lng:e.header.sourceLoc.lng,lat:e.header.sourceLoc.lat},e.destLoc={lng:e.header.destLoc.lng,lat:e.header.destLoc.lat};var a=t.data.actualStops.length;e.thisPosition={lng:a>0?t.data.actualStops[a-1].lng:t.data.sourceLoc.lng,lat:a>0?t.data.actualStops[a-1].lat:t.data.sourceLoc.lat},e.truckRoute()}).catch(function(e){alert(e)})}}},me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"80px",inline:!0}},[a("el-form-item",{attrs:{label:"行程编号"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.tourid,callback:function(t){e.$set(e.header,"tourid",t)},expression:"header.tourid"}})],1),e._v(" "),a("el-form-item"),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"80px",inline:!0}},[a("el-form-item",{attrs:{label:"行程类型"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.header.tourType,callback:function(t){e.$set(e.header,"tourType",t)},expression:"header.tourType"}},e._l(e.tourTypes,function(t){return a("el-option",{key:t.tourType,attrs:{label:t.text,value:t.tourType}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.text))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.tourType))])])}),1)],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"80px",inline:!0}},[a("el-form-item",{attrs:{label:"发车地点"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.header.sourceLoc.locId,callback:function(t){e.$set(e.header.sourceLoc,"locId",t)},expression:"header.sourceLoc.locId"}},e._l(e.locations,function(t){return a("el-option",{key:t.locId,attrs:{label:t.address,value:t.locId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.locId))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"出发时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right"},model:{value:e.header.planDepart,callback:function(t){e.$set(e.header,"planDepart",t)},expression:"header.planDepart"}})],1)],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"80px",inline:!0}},[a("el-form-item",{attrs:{label:"目的地址"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","default-first-option":!0},model:{value:e.header.destLoc.locId,callback:function(t){e.$set(e.header.destLoc,"locId",t)},expression:"header.destLoc.locId"}},e._l(e.locations,function(t){return a("el-option",{key:t.locId,attrs:{label:t.address,value:t.locId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.address))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.locId))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"预计达到"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right"},model:{value:e.header.planArr,callback:function(t){e.$set(e.header,"planArr",t)},expression:"header.planArr"}})],1)],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"车辆监控",name:"tab_map"}},[a("div",[a("div",{staticStyle:{width:"100%",height:"500px"},attrs:{id:"container-map"}}),e._v(" "),a("button",{on:{click:e.setPlannedStop}},[e._v("加载")]),e._v(" "),a("button",{on:{click:e.addTraffic}},[e._v("交通")]),e._v(" "),a("button",{on:{click:e.drawLine}},[e._v("路径")]),e._v(" "),a("button",{on:{click:e.truckRoute}},[e._v("卡车")]),e._v(" "),a("button",{on:{click:e.reportPos}},[e._v("发送GPS")]),e._v(" "),a("div",{attrs:{id:"panel"}})])]),e._v(" "),a("el-tab-pane",{attrs:{label:"车辆信息",name:"tab_veh"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{ref:"form",attrs:{model:e.header,"label-width":"100px",inline:!0}},[a("el-form-item",{attrs:{label:"车辆编号"}},[a("el-input",{model:{value:e.header.vehicle.assetId,callback:function(t){e.$set(e.header.vehicle,"assetId",t)},expression:"header.vehicle.assetId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车辆类型"}},[a("el-select",{model:{value:e.header.vehicle.assetType,callback:function(t){e.$set(e.header.vehicle,"assetType",t)},expression:"header.vehicle.assetType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车牌号码"}},[a("el-select",{model:{value:e.header.vehicle.platenumber,callback:function(t){e.$set(e.header.vehicle,"platenumber",t)},expression:"header.vehicle.platenumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"制造商"}},[a("el-select",{model:{value:e.header.vehicle.make,callback:function(t){e.$set(e.header.vehicle,"make",t)},expression:"header.vehicle.make"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"型号"}},[a("el-select",{model:{value:e.header.vehicle.model,callback:function(t){e.$set(e.header.vehicle,"model",t)},expression:"header.vehicle.model"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车辆识别号"}},[a("el-select",{model:{value:e.header.vehicle.vin,callback:function(t){e.$set(e.header.vehicle,"vin",t)},expression:"header.vehicle.vin"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出厂日期"}},[a("el-date-picker",{attrs:{type:"date"},model:{value:e.header.vehicle.year,callback:function(t){e.$set(e.header.vehicle,"year",t)},expression:"header.vehicle.year"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车载设备编号"}},[a("el-select",{model:{value:e.header.vehicle.hardware,callback:function(t){e.$set(e.header.vehicle,"hardware",t)},expression:"header.vehicle.hardware"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车辆所在地"}},[a("el-select",{model:{value:e.header.vehicle.location,callback:function(t){e.$set(e.header.vehicle,"location",t)},expression:"header.vehicle.location"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"})])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"停靠站点",name:"tab_stop"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.header.plannedStopsDetail,stripe:""}},[a("el-table-column",{attrs:{prop:"seq",label:"编号",sortable:"",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"location.address",label:"停靠站点"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"行程状态"}}),e._v(" "),a("el-table-column",{attrs:{label:"计划出发时间",width:"180",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.planDepart))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"计划到达时间",width:"180",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.planArr))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"实际出发时间",width:"180",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.actDepart))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"实际到达时间",width:"180",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.actArr))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"预计出发时间",width:"180",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.estDepart))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"预计到达时间",width:"180",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.estArr))])]}}])})],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"客户信息",name:"tab_cust"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{ref:"form",attrs:{model:e.header,inline:!1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"客户编号","label-width":"80px",filterable:""}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.soldto.custId,callback:function(t){e.$set(e.header.soldto,"custId",t)},expression:"header.soldto.custId"}})],1)],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,inline:!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"客户名","label-width":"80px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.soldto.name,callback:function(t){e.$set(e.header.soldto,"name",t)},expression:"header.soldto.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户地址","label-width":"80px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.soldto.address,callback:function(t){e.$set(e.header.soldto,"address",t)},expression:"header.soldto.address"}})],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,inline:!1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"送达方",filterable:"","label-width":"80px"}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.shipto.custId,callback:function(t){e.$set(e.header.shipto,"custId",t)},expression:"header.shipto.custId"}})],1)],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,inline:!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"客户名","label-width":"80px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.shipto.name,callback:function(t){e.$set(e.header.shipto,"name",t)},expression:"header.shipto.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户地址","label-width":"80px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.shipto.address,callback:function(t){e.$set(e.header.shipto,"address",t)},expression:"header.shipto.address"}})],1)],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"货物清单",name:"tab_item"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.header.tourItem,stripe:""}},[a("el-table-column",{attrs:{prop:"seq",label:"编号",sortable:"",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"container",label:"集装箱编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"commodity",label:"货物"}}),e._v(" "),a("el-table-column",{attrs:{prop:"quan",label:"数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"location",label:"目的地"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"运输状态"}})],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"驾驶员信息",name:"tab_drv"}},[a("el-form",{ref:"form",attrs:{model:e.header,inline:!1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"驾驶员编号","label-width":"100px"}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.driver.driverId,callback:function(t){e.$set(e.header.driver,"driverId",t)},expression:"header.driver.driverId"}})],1)],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.header,inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名","label-width":"100px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.driver.name,callback:function(t){e.$set(e.header.driver,"name",t)},expression:"header.driver.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话","label-width":"100px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.header.driver.tel,callback:function(t){e.$set(e.header.driver,"tel",t)},expression:"header.driver.tel"}})],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"事件管理",name:"tab_event"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.header.events,stripe:""}},[a("el-table-column",{attrs:{prop:"seq",label:"编号",sortable:"",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"eventCode",label:"事件编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"location",label:"发生位置"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"时间状态"}}),e._v(" "),a("el-table-column",{attrs:{label:"事件发生时间",width:"180",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdOn))])]}}])})],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"消息管理",name:"tab_msg"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.header.notifications,stripe:""}},[a("el-table-column",{attrs:{prop:"seq",label:"编号",sortable:"",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text",label:"消息通知"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdBy",label:"创建人"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",width:"180",formatter:e.formatDate},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createdOn))])]}}])})],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var ue=a("VU/8")(de,me,!1,function(e){a("cokI")},"data-v-e56ab18c",null).exports,pe={data:function(){return{formInline:{tourid:""},tourid:"",activeName:"second"}},methods:{onSubmit:function(){var e={id:this.formInline.tourid,message:"成功"};this.$router.push({name:"TourDetail",params:e}),console.log(this.formInline.tourid)},handleClick:function(e,t){console.log(e,t)}}},fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("h1",[e._v("行程查询")]),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,title:"行程查询"}},[a("el-form-item",{attrs:{label:"行程编号"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入行程编号"},model:{value:e.formInline.tourid,callback:function(t){e.$set(e.formInline,"tourid",t)},expression:"formInline.tourid"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("router-view")],1)],1)},staticRenderFns:[]},he=a("VU/8")(pe,fe,!1,null,null,null).exports,ve={data:function(){return{formInline:{tourid:""},tourid:"",activeName:"second"}},methods:{onSubmit:function(){var e={id:this.formInline.tourid,message:"成功"};this.$router.push({name:"tourlist",params:e}),console.log(this.formInline.tourid)},handleClick:function(e,t){console.log(e,t)}}},be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("h1",[e._v("实时监控")]),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,title:"行程查询"}},[a("el-form-item",{attrs:{label:"行程编号"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入行程编号"},model:{value:e.formInline.tourid,callback:function(t){e.$set(e.formInline,"tourid",t)},expression:"formInline.tourid"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("router-view")],1)],1)},staticRenderFns:[]},_e=a("VU/8")(ve,be,!1,null,null,null).exports,ge={data:function(){return{formInline:{tourid:""},tourid:"",activeName:"second"}},methods:{onSubmit:function(){var e={id:this.formInline.tourid,message:"成功"};this.$router.push({name:"tourlist",params:e}),console.log(this.formInline.tourid)},handleClick:function(e,t){console.log(e,t)}}},ye={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-row",[t("el-col",{attrs:{span:24}},[t("h1",[this._v("控制面板")])])],1),this._v(" "),t("el-row",[t("router-view")],1)],1)},staticRenderFns:[]},xe=a("VU/8")(ge,ye,!1,null,null,null).exports,we={data:function(){return{formInline:{tourid:""},tourid:"",activeName:"second"}},methods:{onSubmit:function(){var e={id:this.formInline.tourid,message:"成功"};this.$router.push({name:"tourlist",params:e}),console.log(this.formInline.tourid)},handleClick:function(e,t){console.log(e,t)}}},Ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("h1",[e._v("运输成本")]),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,title:"行程查询"}},[a("el-form-item",{attrs:{label:"行程编号"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入行程编号"},model:{value:e.formInline.tourid,callback:function(t){e.$set(e.formInline,"tourid",t)},expression:"formInline.tourid"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("router-view")],1)],1)},staticRenderFns:[]},ke=a("VU/8")(we,Ie,!1,null,null,null).exports,Te={data:function(){return{formInline:{tourid:""},tourid:"",activeName:"second"}},methods:{onSubmit:function(){var e={id:this.formInline.tourid,message:"成功"};this.$router.push({name:"tourlist",params:e}),console.log(this.formInline.tourid)},handleClick:function(e,t){console.log(e,t)}}},Se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("h1",[e._v("车辆故障统计")]),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,title:"行程查询"}},[a("el-form-item",{attrs:{label:"行程编号"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入行程编号"},model:{value:e.formInline.tourid,callback:function(t){e.$set(e.formInline,"tourid",t)},expression:"formInline.tourid"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("router-view")],1)],1)},staticRenderFns:[]},De=a("VU/8")(Te,Se,!1,null,null,null).exports,Ce={data:function(){return{formInline:{tourid:""},tourid:"",activeName:"second"}},methods:{onSubmit:function(){var e={id:this.formInline.tourid,message:"成功"};this.$router.push({name:"tourlist",params:e}),console.log(this.formInline.tourid)},handleClick:function(e,t){console.log(e,t)}}},$e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("h1",[e._v("车辆准点率")]),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,title:"行程查询"}},[a("el-form-item",{attrs:{label:"行程编号"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入行程编号"},model:{value:e.formInline.tourid,callback:function(t){e.$set(e.formInline,"tourid",t)},expression:"formInline.tourid"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("router-view")],1)],1)},staticRenderFns:[]},Ae=a("VU/8")(Ce,$e,!1,null,null,null).exports,Ve={data:function(){return{formInline:{tourid:""},tourid:"",activeName:"second"}},methods:{onSubmit:function(){var e={id:this.formInline.tourid,message:"成功"};this.$router.push({name:"tourlist",params:e}),console.log(this.formInline.tourid)},handleClick:function(e,t){console.log(e,t)}}},Fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("h1",[e._v("历史数据查询")]),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,title:"行程查询"}},[a("el-form-item",{attrs:{label:"行程编号"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入行程编号"},model:{value:e.formInline.tourid,callback:function(t){e.$set(e.formInline,"tourid",t)},expression:"formInline.tourid"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("router-view")],1)],1)},staticRenderFns:[]},ze=a("VU/8")(Ve,Fe,!1,null,null,null).exports,Le={data:function(){return{option1:{tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",x:"left",data:["市内","省内","省外","长途","短途","及时配送","客户1","客户2","客户3","其他"]},series:[{name:"运输类型",type:"pie",selectedMode:"single",radius:[0,"30%"],label:{normal:{position:"inner"}},labelLine:{normal:{show:!1}},data:[{value:335,name:"市内",selected:!0},{value:679,name:"省内"},{value:1548,name:"省外"}]},{name:"运输里程",type:"pie",radius:["40%","55%"],label:{normal:{formatter:"{a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}  ",backgroundColor:"#eee",borderColor:"#aaa",borderWidth:1,borderRadius:4,rich:{a:{color:"#999",lineHeight:22,align:"center"},hr:{borderColor:"#aaa",width:"100%",borderWidth:.5,height:0},b:{fontSize:16,lineHeight:33},per:{color:"#eee",backgroundColor:"#334455",padding:[2,4],borderRadius:2}}}},data:[{value:335,name:"市内"},{value:310,name:"省内"},{value:234,name:"省外"},{value:135,name:"长途"},{value:1048,name:"短途"},{value:251,name:"客户1"},{value:147,name:"客户2"},{value:102,name:"客户3"}]}]}}},mounted:function(){this.draw1(),this.drawMain(),this.d2()},methods:{d2:function(){var e=this.$echarts.init(document.getElementById("chart2"));e.on("updateAxisPointer",function(t){var a=t.axesInfo[0];if(a){var l=a.value+1;e.setOption({series:{id:"pie",label:{formatter:"{b}: {@["+l+"]} ({d}%)"},encode:{value:l,tooltip:l}}})}}),e.setOption({legend:{},tooltip:{trigger:"axis",showContent:!1},dataset:{source:[["运输类型","2012","2013","2014","2015","2016","2017"],["长途",41.1,30.4,65.1,53.3,83.8,98.7],["短途",86.5,92.1,85.7,83.1,73.4,55.1],["市内",24.1,67.2,79.5,86.4,65.2,82.5],["市外",55.2,67.1,69.2,72.4,53.9,39.1]]},xAxis:{type:"category"},yAxis:{gridIndex:0},grid:{top:"55%"},series:[{type:"line",smooth:!0,seriesLayoutBy:"row"},{type:"line",smooth:!0,seriesLayoutBy:"row"},{type:"line",smooth:!0,seriesLayoutBy:"row"},{type:"line",smooth:!0,seriesLayoutBy:"row"},{type:"pie",id:"pie",radius:"30%",center:["50%","25%"],label:{formatter:"{b}: {@2012} ({d}%)"},encode:{itemName:"product",value:"2012",tooltip:"2012"}}]})},draw1:function(){this.$echarts.init(document.getElementById("chart1")).setOption(this.option1)},drawMain:function(){this.$echarts.init(document.getElementById("main")).setOption({legend:{},tooltip:{},dataset:{source:[["运输类型","2012","2013","2014","2015","2016","2017"],["长途",41.1,30.4,65.1,53.3,83.8,98.7],["短途",86.5,92.1,85.7,83.1,73.4,55.1],["市内",24.1,67.2,79.5,86.4,65.2,82.5],["市外",55.2,67.1,69.2,72.4,53.9,39.1]]},series:[{type:"pie",radius:60,center:["25%","30%"]},{type:"pie",radius:60,center:["75%","30%"],encode:{itemName:"运输类型",value:"2013"}},{type:"pie",radius:60,center:["25%","75%"],encode:{itemName:"运输类型",value:"2014"}},{type:"pie",radius:60,center:["75%","75%"],encode:{itemName:"运输类型",value:"2015"}}]})}}},qe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{style:{width:"100%",height:"500px"},attrs:{id:"chart1"}}),this._v(" "),t("div",{style:{width:"100%",height:"500px"},attrs:{id:"chart2"}}),this._v(" "),t("div",{style:{width:"100%",height:"500px"},attrs:{id:"main"}})])},staticRenderFns:[]},Ee=a("VU/8")(Le,qe,!1,null,null,null).exports,Oe={data:function(){return{formInline:{tourid:""},tourid:"",activeName:"second"}},methods:{onSubmit:function(){var e={id:this.formInline.tourid,message:"成功"};this.$router.push({name:"tourlist",params:e}),console.log(this.formInline.tourid)},handleClick:function(e,t){console.log(e,t)}}},Re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("h1",[e._v("车辆使用率")]),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,title:"行程查询"}},[a("el-form-item",{attrs:{label:"行程编号"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入行程编号"},model:{value:e.formInline.tourid,callback:function(t){e.$set(e.formInline,"tourid",t)},expression:"formInline.tourid"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("router-view")],1)],1)},staticRenderFns:[]},Ue=a("VU/8")(Oe,Re,!1,null,null,null).exports;l.default.use(s.a);var Me=new s.a({routes:[{path:"/",redirect:"/login"},{path:"/Login",name:"Login",component:c},{path:"/",redirect:"/dashboard",name:"Container",component:u,children:[{path:"AssetType",name:"AssetType",component:h},{path:"Asset",name:"Asset",component:_},{path:"Location",name:"Location",component:x},{path:"tourType",name:"TourType",component:E},{path:"customer",name:"Customer",component:k},{path:"driver",name:"Driver",component:D},{path:"event",name:"Event",component:A},{path:"resvType",name:"ResvType",component:z},{path:"tourType",name:"TourType",component:E},{path:"createTour",name:"CreateTour",component:N},{path:"editTour",name:"EditTour",component:Q},{path:"reservation",name:"Reservation",component:K},{path:"resvList",name:"ResvList",component:ee},{path:"schedule",name:"Schedule",component:le},{path:"createSch",name:"CreateSch",component:ce},{path:"tourList",name:"TourList",component:se},{path:"tourdetail",name:"TourDetail",component:ue},{path:"searchTour",name:"searchTour",component:he},{path:"monitor",name:"Monitor",component:_e},{path:"dashboard",name:"Dashboard",component:xe},{path:"cost",name:"Cost",component:ke},{path:"tourBroken",name:"TourBroken",component:De},{path:"tourETA",name:"TourETA",component:Ae},{path:"tourHistory",name:"TourHistory",component:ze},{path:"tourRep",name:"TourRep",component:Ee},{path:"tourUsage",name:"TourUsage",component:Ue}]}]}),Pe=a("zL8q"),Be=a.n(Pe),Ne=(a("tvR6"),a("mtWM")),Ge=a.n(Ne),We="http://localhost:8080",je=a("ARhN"),Ze=a.n(je);l.default.use(Be.a),Ge.a.defaults.baseURL=Object({NODE_ENV:"production"}).API,l.default.prototype.$axios=Ge.a,l.default.prototype.BASE_URL=We,l.default.prototype.MT_DATA={tourTypes:{},assets:{},locations:{},customers:{},drivers:{},resvTypes:{},schTypes:{},UoMoptions:[{value:"PC",label:"PC"},{value:"PACKAGE",label:"标准箱"}],setTourTypes:function(e){this.tourTypes}},l.default.prototype.$echarts=Ze.a,l.default.config.productionTip=!1,new l.default({el:"#app",router:Me,components:{App:r},template:"<App/>"}),Me.beforeEach(function(e,t,a){"/login"===e.path&&sessionStorage.removeItem("user"),sessionStorage.getItem("user")||"/login"===e.path?a():a({path:"/login"})})},cokI:function(e,t){},hqde:function(e,t){},"n+06":function(e,t){e.exports=AMapUI},tvR6:function(e,t){},zwJk:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.06c9cf6b560ee5d042ba.js.map